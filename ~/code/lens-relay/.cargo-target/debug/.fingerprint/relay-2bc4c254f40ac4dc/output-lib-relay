{"$message_type":"diagnostic","message":"empty line after doc comment","code":{"code":"clippy::empty_line_after_doc_comments","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":105747,"byte_end":105775,"line_start":2733,"line_end":2733,"column_start":1,"column_end":29,"is_primary":false,"text":[{"text":"async fn handle_file_history(","highlight_start":1,"highlight_end":29}],"label":"the comment documents this function","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"relay/src/server.rs","byte_start":105485,"byte_end":105550,"line_start":2725,"line_end":2726,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"/// - Other status codes for authentication/authorization errors","highlight_start":1,"highlight_end":65},{"text":"","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#empty_line_after_doc_comments","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::empty_line_after_doc_comments)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"if the empty line is unintentional, remove it","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":105549,"byte_end":105550,"line_start":2725,"line_end":2726,"column_start":65,"column_end":1,"is_primary":true,"text":[{"text":"/// - Other status codes for authentication/authorization errors","highlight_start":65,"highlight_end":65},{"text":"","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null},{"message":"if the documentation should include the empty line include it in the comment","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":105550,"byte_end":105550,"line_start":2726,"line_end":2726,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"///","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: empty line after doc comment\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2725:1\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2725\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m /// - Other status codes for authentication/authorization errors\n\u001b[1m\u001b[94m2726\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|_^\u001b[0m\n\u001b[1m\u001b[94m...\u001b[0m\n\u001b[1m\u001b[94m2733\u001b[0m \u001b[1m\u001b[94m|\u001b[0m   async fn handle_file_history(\n     \u001b[1m\u001b[94m|\u001b[0m   \u001b[1m\u001b[94m----------------------------\u001b[0m \u001b[1m\u001b[94mthe comment documents this function\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#empty_line_after_doc_comments\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::empty_line_after_doc_comments)]` on by default\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: if the empty line is unintentional, remove it\n\u001b[1m\u001b[96mhelp\u001b[0m: if the documentation should include the empty line include it in the comment\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2726\u001b[0m \u001b[1m\u001b[94m| \u001b[0m\u001b[92m///\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unused import: `Map`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/mcp/tools/get_links.rs","byte_start":154,"byte_end":157,"line_start":6,"line_end":6,"column_start":22,"column_end":25,"is_primary":true,"text":[{"text":"use yrs::{GetString, Map, ReadTxn, Transact};","highlight_start":22,"highlight_end":25}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unused import: `Map`\u001b[0m\n \u001b[1m\u001b[94m--> \u001b[0mrelay/src/mcp/tools/get_links.rs:6:22\n  \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m6\u001b[0m \u001b[1m\u001b[94m|\u001b[0m use yrs::{GetString, Map, ReadTxn, Transact};\n  \u001b[1m\u001b[94m|\u001b[0m                      \u001b[1m\u001b[33m^^^\u001b[0m\n  \u001b[1m\u001b[94m|\u001b[0m\n  \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default\n\n"}
{"$message_type":"diagnostic","message":"variable does not need to be mutable","code":{"code":"unused_mut","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/mcp/tools/edit.rs","byte_start":3962,"byte_end":3971,"line_start":113,"line_end":113,"column_start":13,"column_end":22,"is_primary":true,"text":[{"text":"        let mut guard = awareness.write().unwrap_or_else(|e| e.into_inner());","highlight_start":13,"highlight_end":22}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"remove this `mut`","code":null,"level":"help","spans":[{"file_name":"relay/src/mcp/tools/edit.rs","byte_start":3962,"byte_end":3966,"line_start":113,"line_end":113,"column_start":13,"column_end":17,"is_primary":true,"text":[{"text":"        let mut guard = awareness.write().unwrap_or_else(|e| e.into_inner());","highlight_start":13,"highlight_end":17}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: variable does not need to be mutable\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/mcp/tools/edit.rs:113:13\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m113\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         let mut guard = awareness.write().unwrap_or_else(|e| e.into_inner());\n    \u001b[1m\u001b[94m|\u001b[0m             \u001b[1m\u001b[94m----\u001b[0m\u001b[1m\u001b[33m^^^^^\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m             \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m             \u001b[1m\u001b[94mhelp: remove this `mut`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default\n\n"}
{"$message_type":"diagnostic","message":"using `clone` on type `Authorization` which implements the `Copy` trait","code":{"code":"clippy::clone_on_copy","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/cli.rs","byte_start":4258,"byte_end":4279,"line_start":131,"line_end":131,"column_start":53,"column_end":74,"is_primary":true,"text":[{"text":"            let token = auth.gen_doc_token(&doc_id, authorization.clone(), expiration, None)?;","highlight_start":53,"highlight_end":74}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#clone_on_copy","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::clone_on_copy)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"try removing the `clone` call","code":null,"level":"help","spans":[{"file_name":"relay/src/cli.rs","byte_start":4258,"byte_end":4279,"line_start":131,"line_end":131,"column_start":53,"column_end":74,"is_primary":true,"text":[{"text":"            let token = auth.gen_doc_token(&doc_id, authorization.clone(), expiration, None)?;","highlight_start":53,"highlight_end":74}],"label":null,"suggested_replacement":"authorization","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: using `clone` on type `Authorization` which implements the `Copy` trait\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/cli.rs:131:53\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m131\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             let token = auth.gen_doc_token(&doc_id, authorization.clone(), expiration, None)?;\n    \u001b[1m\u001b[94m|\u001b[0m                                                     \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[33mhelp: try removing the `clone` call: `authorization`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#clone_on_copy\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::clone_on_copy)]` on by default\n\n"}
{"$message_type":"diagnostic","message":"using `clone` on type `Authorization` which implements the `Copy` trait","code":{"code":"clippy::clone_on_copy","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/cli.rs","byte_start":6062,"byte_end":6083,"line_start":181,"line_end":181,"column_start":17,"column_end":38,"is_primary":true,"text":[{"text":"                authorization.clone(),","highlight_start":17,"highlight_end":38}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#clone_on_copy","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"try removing the `clone` call","code":null,"level":"help","spans":[{"file_name":"relay/src/cli.rs","byte_start":6062,"byte_end":6083,"line_start":181,"line_end":181,"column_start":17,"column_end":38,"is_primary":true,"text":[{"text":"                authorization.clone(),","highlight_start":17,"highlight_end":38}],"label":null,"suggested_replacement":"authorization","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: using `clone` on type `Authorization` which implements the `Copy` trait\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/cli.rs:181:17\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m181\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                 authorization.clone(),\n    \u001b[1m\u001b[94m|\u001b[0m                 \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[33mhelp: try removing the `clone` call: `authorization`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#clone_on_copy\n\n"}
{"$message_type":"diagnostic","message":"this loop could be written as a `while let` loop","code":{"code":"clippy::while_let_loop","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":6033,"byte_end":7823,"line_start":202,"line_end":250,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    loop {","highlight_start":5,"highlight_end":11},{"text":"        match rx.recv().await {","highlight_start":1,"highlight_end":32},{"text":"            Some(doc_id) => {","highlight_start":1,"highlight_end":30},{"text":"                let folder_content = link_indexer::is_folder_doc(&doc_id, &docs);","highlight_start":1,"highlight_end":82},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                if folder_content.is_none() {","highlight_start":1,"highlight_end":46},{"text":"                    // Content doc — debounce: wait until no updates for SEARCH_DEBOUNCE","highlight_start":1,"highlight_end":89},{"text":"                    loop {","highlight_start":1,"highlight_end":27},{"text":"                        tokio::time::sleep(SEARCH_DEBOUNCE).await;","highlight_start":1,"highlight_end":67},{"text":"                        if let Some(entry) = pending.get(&doc_id) {","highlight_start":1,"highlight_end":68},{"text":"                            if entry.elapsed() >= SEARCH_DEBOUNCE {","highlight_start":1,"highlight_end":68},{"text":"                                break;","highlight_start":1,"highlight_end":39},{"text":"                            }","highlight_start":1,"highlight_end":30},{"text":"                        } else {","highlight_start":1,"highlight_end":33},{"text":"                            break;","highlight_start":1,"highlight_end":35},{"text":"                        }","highlight_start":1,"highlight_end":26},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                    // Skip if entry was removed while we waited","highlight_start":1,"highlight_end":65},{"text":"                    if !pending.contains_key(&doc_id) {","highlight_start":1,"highlight_end":56},{"text":"                        continue;","highlight_start":1,"highlight_end":34},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                // Remove from pending","highlight_start":1,"highlight_end":39},{"text":"                pending.remove(&doc_id);","highlight_start":1,"highlight_end":41},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                if let Some(content_uuids) =","highlight_start":1,"highlight_end":45},{"text":"                    folder_content.or_else(|| link_indexer::is_folder_doc(&doc_id, &docs))","highlight_start":1,"highlight_end":91},{"text":"                {","highlight_start":1,"highlight_end":18},{"text":"                    // Folder doc — detect added/removed documents","highlight_start":1,"highlight_end":67},{"text":"                    search_handle_folder_update(","highlight_start":1,"highlight_end":49},{"text":"                        &doc_id,","highlight_start":1,"highlight_end":33},{"text":"                        &content_uuids,","highlight_start":1,"highlight_end":40},{"text":"                        &docs,","highlight_start":1,"highlight_end":31},{"text":"                        &search_index,","highlight_start":1,"highlight_end":39},{"text":"                        &filemeta_cache,","highlight_start":1,"highlight_end":41},{"text":"                        &pending,","highlight_start":1,"highlight_end":34},{"text":"                        &rx,","highlight_start":1,"highlight_end":29},{"text":"                    )","highlight_start":1,"highlight_end":22},{"text":"                    .await;","highlight_start":1,"highlight_end":28},{"text":"                } else {","highlight_start":1,"highlight_end":25},{"text":"                    // Content doc — reindex into search","highlight_start":1,"highlight_end":57},{"text":"                    search_handle_content_update(&doc_id, &docs, &search_index);","highlight_start":1,"highlight_end":81},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            None => break,","highlight_start":1,"highlight_end":27},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#while_let_loop","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::while_let_loop)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":6033,"byte_end":7823,"line_start":202,"line_end":250,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    loop {","highlight_start":5,"highlight_end":11},{"text":"        match rx.recv().await {","highlight_start":1,"highlight_end":32},{"text":"            Some(doc_id) => {","highlight_start":1,"highlight_end":30},{"text":"                let folder_content = link_indexer::is_folder_doc(&doc_id, &docs);","highlight_start":1,"highlight_end":82},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                if folder_content.is_none() {","highlight_start":1,"highlight_end":46},{"text":"                    // Content doc — debounce: wait until no updates for SEARCH_DEBOUNCE","highlight_start":1,"highlight_end":89},{"text":"                    loop {","highlight_start":1,"highlight_end":27},{"text":"                        tokio::time::sleep(SEARCH_DEBOUNCE).await;","highlight_start":1,"highlight_end":67},{"text":"                        if let Some(entry) = pending.get(&doc_id) {","highlight_start":1,"highlight_end":68},{"text":"                            if entry.elapsed() >= SEARCH_DEBOUNCE {","highlight_start":1,"highlight_end":68},{"text":"                                break;","highlight_start":1,"highlight_end":39},{"text":"                            }","highlight_start":1,"highlight_end":30},{"text":"                        } else {","highlight_start":1,"highlight_end":33},{"text":"                            break;","highlight_start":1,"highlight_end":35},{"text":"                        }","highlight_start":1,"highlight_end":26},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                    // Skip if entry was removed while we waited","highlight_start":1,"highlight_end":65},{"text":"                    if !pending.contains_key(&doc_id) {","highlight_start":1,"highlight_end":56},{"text":"                        continue;","highlight_start":1,"highlight_end":34},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                // Remove from pending","highlight_start":1,"highlight_end":39},{"text":"                pending.remove(&doc_id);","highlight_start":1,"highlight_end":41},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                if let Some(content_uuids) =","highlight_start":1,"highlight_end":45},{"text":"                    folder_content.or_else(|| link_indexer::is_folder_doc(&doc_id, &docs))","highlight_start":1,"highlight_end":91},{"text":"                {","highlight_start":1,"highlight_end":18},{"text":"                    // Folder doc — detect added/removed documents","highlight_start":1,"highlight_end":67},{"text":"                    search_handle_folder_update(","highlight_start":1,"highlight_end":49},{"text":"                        &doc_id,","highlight_start":1,"highlight_end":33},{"text":"                        &content_uuids,","highlight_start":1,"highlight_end":40},{"text":"                        &docs,","highlight_start":1,"highlight_end":31},{"text":"                        &search_index,","highlight_start":1,"highlight_end":39},{"text":"                        &filemeta_cache,","highlight_start":1,"highlight_end":41},{"text":"                        &pending,","highlight_start":1,"highlight_end":34},{"text":"                        &rx,","highlight_start":1,"highlight_end":29},{"text":"                    )","highlight_start":1,"highlight_end":22},{"text":"                    .await;","highlight_start":1,"highlight_end":28},{"text":"                } else {","highlight_start":1,"highlight_end":25},{"text":"                    // Content doc — reindex into search","highlight_start":1,"highlight_end":57},{"text":"                    search_handle_content_update(&doc_id, &docs, &search_index);","highlight_start":1,"highlight_end":81},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            None => break,","highlight_start":1,"highlight_end":27},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":"while let Some(doc_id) = rx.recv().await { .. }","suggestion_applicability":"HasPlaceholders","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: this loop could be written as a `while let` loop\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:202:5\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m202\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m     loop {\n\u001b[1m\u001b[94m203\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         match rx.recv().await {\n\u001b[1m\u001b[94m204\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             Some(doc_id) => {\n\u001b[1m\u001b[94m205\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 let folder_content = link_indexer::is_folder_doc(&doc_id, &docs);\n\u001b[1m\u001b[94m...\u001b[0m   \u001b[1m\u001b[33m|\u001b[0m\n\u001b[1m\u001b[94m250\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m     }\n    \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|_____^\u001b[0m \u001b[1m\u001b[33mhelp: try: `while let Some(doc_id) = rx.recv().await { .. }`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#while_let_loop\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::while_let_loop)]` on by default\n\n"}
{"$message_type":"diagnostic","message":"this function has too many arguments (8/7)","code":{"code":"clippy::too_many_arguments","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":15587,"byte_end":15935,"line_start":450,"line_end":459,"column_start":5,"column_end":22,"is_primary":true,"text":[{"text":"    pub async fn new(","highlight_start":5,"highlight_end":22},{"text":"        store: Option<Box<dyn Store>>,","highlight_start":1,"highlight_end":39},{"text":"        checkpoint_freq: Duration,","highlight_start":1,"highlight_end":35},{"text":"        authenticator: Option<Authenticator>,","highlight_start":1,"highlight_end":46},{"text":"        url: Option<Url>,","highlight_start":1,"highlight_end":26},{"text":"        allowed_hosts: Vec<AllowedHost>,","highlight_start":1,"highlight_end":41},{"text":"        cancellation_token: CancellationToken,","highlight_start":1,"highlight_end":47},{"text":"        doc_gc: bool,","highlight_start":1,"highlight_end":22},{"text":"        webhook_configs: Option<Vec<WebhookConfig>>,","highlight_start":1,"highlight_end":53},{"text":"    ) -> Result<Self> {","highlight_start":1,"highlight_end":22}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#too_many_arguments","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::too_many_arguments)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: this function has too many arguments (8/7)\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:450:5\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m450\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m     pub async fn new(\n\u001b[1m\u001b[94m451\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         store: Option<Box<dyn Store>>,\n\u001b[1m\u001b[94m452\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         checkpoint_freq: Duration,\n\u001b[1m\u001b[94m453\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         authenticator: Option<Authenticator>,\n\u001b[1m\u001b[94m...\u001b[0m   \u001b[1m\u001b[33m|\u001b[0m\n\u001b[1m\u001b[94m458\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         webhook_configs: Option<Vec<WebhookConfig>>,\n\u001b[1m\u001b[94m459\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m     ) -> Result<Self> {\n    \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|_____________________^\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#too_many_arguments\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::too_many_arguments)]` on by default\n\n"}
{"$message_type":"diagnostic","message":"manual implementation of `.is_multiple_of()`","code":{"code":"clippy::manual_is_multiple_of","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":35706,"byte_end":35717,"line_start":918,"line_end":918,"column_start":28,"column_end":39,"is_primary":true,"text":[{"text":"                        if n % 50 == 0 || n == total {","highlight_start":28,"highlight_end":39}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#manual_is_multiple_of","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::manual_is_multiple_of)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"replace with","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":35706,"byte_end":35717,"line_start":918,"line_end":918,"column_start":28,"column_end":39,"is_primary":true,"text":[{"text":"                        if n % 50 == 0 || n == total {","highlight_start":28,"highlight_end":39}],"label":null,"suggested_replacement":"n.is_multiple_of(50)","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: manual implementation of `.is_multiple_of()`\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:918:28\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m918\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                         if n % 50 == 0 || n == total {\n    \u001b[1m\u001b[94m|\u001b[0m                            \u001b[1m\u001b[33m^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[33mhelp: replace with: `n.is_multiple_of(50)`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#manual_is_multiple_of\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::manual_is_multiple_of)]` on by default\n\n"}
{"$message_type":"diagnostic","message":"this expression creates a reference which is immediately dereferenced by the compiler","code":{"code":"clippy::needless_borrow","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":39230,"byte_end":39235,"line_start":1000,"line_end":1000,"column_start":40,"column_end":45,"is_primary":true,"text":[{"text":"                            .unwrap_or(&path)","highlight_start":40,"highlight_end":45}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_borrow","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::needless_borrow)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"change this to","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":39230,"byte_end":39235,"line_start":1000,"line_end":1000,"column_start":40,"column_end":45,"is_primary":true,"text":[{"text":"                            .unwrap_or(&path)","highlight_start":40,"highlight_end":45}],"label":null,"suggested_replacement":"path","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: this expression creates a reference which is immediately dereferenced by the compiler\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:1000:40\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m1000\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[94m...\u001b[0m                   .unwrap_or(&path)\n     \u001b[1m\u001b[94m|\u001b[0m                                  \u001b[1m\u001b[33m^^^^^\u001b[0m \u001b[1m\u001b[33mhelp: change this to: `path`\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_borrow\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::needless_borrow)]` on by default\n\n"}
{"$message_type":"diagnostic","message":"this expression creates a reference which is immediately dereferenced by the compiler","code":{"code":"clippy::needless_borrow","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":39325,"byte_end":39330,"line_start":1002,"line_end":1002,"column_start":40,"column_end":45,"is_primary":true,"text":[{"text":"                            .unwrap_or(&path)","highlight_start":40,"highlight_end":45}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_borrow","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"change this to","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":39325,"byte_end":39330,"line_start":1002,"line_end":1002,"column_start":40,"column_end":45,"is_primary":true,"text":[{"text":"                            .unwrap_or(&path)","highlight_start":40,"highlight_end":45}],"label":null,"suggested_replacement":"path","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: this expression creates a reference which is immediately dereferenced by the compiler\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:1002:40\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m1002\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[94m...\u001b[0m                   .unwrap_or(&path)\n     \u001b[1m\u001b[94m|\u001b[0m                                  \u001b[1m\u001b[33m^^^^^\u001b[0m \u001b[1m\u001b[33mhelp: change this to: `path`\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_borrow\n\n"}
{"$message_type":"diagnostic","message":"this expression creates a reference which is immediately dereferenced by the compiler","code":{"code":"clippy::needless_borrow","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":39448,"byte_end":39453,"line_start":1005,"line_end":1005,"column_start":40,"column_end":45,"is_primary":true,"text":[{"text":"                            .unwrap_or(&path)","highlight_start":40,"highlight_end":45}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_borrow","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"change this to","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":39448,"byte_end":39453,"line_start":1005,"line_end":1005,"column_start":40,"column_end":45,"is_primary":true,"text":[{"text":"                            .unwrap_or(&path)","highlight_start":40,"highlight_end":45}],"label":null,"suggested_replacement":"path","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: this expression creates a reference which is immediately dereferenced by the compiler\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:1005:40\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m1005\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[94m...\u001b[0m                   .unwrap_or(&path)\n     \u001b[1m\u001b[94m|\u001b[0m                                  \u001b[1m\u001b[33m^^^^^\u001b[0m \u001b[1m\u001b[33mhelp: change this to: `path`\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_borrow\n\n"}
{"$message_type":"diagnostic","message":"this function has too many arguments (8/7)","code":{"code":"clippy::too_many_arguments","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":67392,"byte_end":67704,"line_start":1762,"line_end":1771,"column_start":1,"column_end":2,"is_primary":true,"text":[{"text":"async fn handle_socket(","highlight_start":1,"highlight_end":24},{"text":"    socket: WebSocket,","highlight_start":1,"highlight_end":23},{"text":"    awareness: Arc<RwLock<Awareness>>,","highlight_start":1,"highlight_end":39},{"text":"    authorization: Authorization,","highlight_start":1,"highlight_end":34},{"text":"    expiration_time: Option<u64>,","highlight_start":1,"highlight_end":34},{"text":"    cancellation_token: CancellationToken,","highlight_start":1,"highlight_end":43},{"text":"    sync_protocol_event_sender: Arc<SyncProtocolEventSender>,","highlight_start":1,"highlight_end":62},{"text":"    doc_id: String,","highlight_start":1,"highlight_end":20},{"text":"    metrics: Arc<RelayMetrics>,","highlight_start":1,"highlight_end":32},{"text":") {","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#too_many_arguments","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: this function has too many arguments (8/7)\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:1762:1\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m1762\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m async fn handle_socket(\n\u001b[1m\u001b[94m1763\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m     socket: WebSocket,\n\u001b[1m\u001b[94m1764\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m     awareness: Arc<RwLock<Awareness>>,\n\u001b[1m\u001b[94m1765\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m     authorization: Authorization,\n\u001b[1m\u001b[94m...\u001b[0m    \u001b[1m\u001b[33m|\u001b[0m\n\u001b[1m\u001b[94m1770\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m     metrics: Arc<RelayMetrics>,\n\u001b[1m\u001b[94m1771\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m ) {\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|_^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#too_many_arguments\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":85823,"byte_end":85939,"line_start":2252,"line_end":2254,"column_start":25,"column_end":28,"is_primary":true,"text":[{"text":"                        return Ok(Json(FileUploadUrlResponse {","highlight_start":25,"highlight_end":63},{"text":"                            upload_url: full_url,","highlight_start":1,"highlight_end":50},{"text":"                        }));","highlight_start":1,"highlight_end":28}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::needless_return)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":85823,"byte_end":85939,"line_start":2252,"line_end":2254,"column_start":25,"column_end":28,"is_primary":true,"text":[{"text":"                        return Ok(Json(FileUploadUrlResponse {","highlight_start":25,"highlight_end":63},{"text":"                            upload_url: full_url,","highlight_start":1,"highlight_end":50},{"text":"                        }));","highlight_start":1,"highlight_end":28}],"label":null,"suggested_replacement":"Ok(Json(FileUploadUrlResponse {\n                            upload_url: full_url,\n                        }))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":85939,"byte_end":85940,"line_start":2254,"line_end":2254,"column_start":28,"column_end":29,"is_primary":true,"text":[{"text":"                        }));","highlight_start":28,"highlight_end":29}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2252:25\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2252\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m                         return Ok(Json(FileUploadUrlResponse {\n\u001b[1m\u001b[94m2253\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                             upload_url: full_url,\n\u001b[1m\u001b[94m2254\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                         }));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|___________________________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::needless_return)]` on by default\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2252\u001b[0m \u001b[92m~ \u001b[0m                        \u001b[92mOk(Json(FileUploadUrlResponse {\u001b[0m\n\u001b[1m\u001b[94m2253\u001b[0m \u001b[92m+                             upload_url: full_url,\u001b[0m\n\u001b[1m\u001b[94m2254\u001b[0m \u001b[92m~                         }))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":86057,"byte_end":86115,"line_start":2257,"line_end":2257,"column_start":25,"column_end":83,"is_primary":true,"text":[{"text":"                        return Ok(Json(FileUploadUrlResponse { upload_url: url }));","highlight_start":25,"highlight_end":83}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":86057,"byte_end":86115,"line_start":2257,"line_end":2257,"column_start":25,"column_end":83,"is_primary":true,"text":[{"text":"                        return Ok(Json(FileUploadUrlResponse { upload_url: url }));","highlight_start":25,"highlight_end":83}],"label":null,"suggested_replacement":"Ok(Json(FileUploadUrlResponse { upload_url: url }))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":86115,"byte_end":86116,"line_start":2257,"line_end":2257,"column_start":83,"column_end":84,"is_primary":true,"text":[{"text":"                        return Ok(Json(FileUploadUrlResponse { upload_url: url }));","highlight_start":83,"highlight_end":84}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2257:25\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2257\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                         return Ok(Json(FileUploadUrlResponse { upload_url: url }));\n     \u001b[1m\u001b[94m|\u001b[0m                         \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2257\u001b[0m \u001b[91m- \u001b[0m                        \u001b[91mreturn Ok(Json(FileUploadUrlResponse { upload_url: url }));\u001b[0m\n\u001b[1m\u001b[94m2257\u001b[0m \u001b[92m+ \u001b[0m                        \u001b[92mOk(Json(FileUploadUrlResponse { upload_url: url }))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":86184,"byte_end":86352,"line_start":2260,"line_end":2263,"column_start":21,"column_end":23,"is_primary":true,"text":[{"text":"                    return Err(AppError(","highlight_start":21,"highlight_end":41},{"text":"                        StatusCode::INTERNAL_SERVER_ERROR,","highlight_start":1,"highlight_end":59},{"text":"                        anyhow!(\"Failed to generate upload URL\"),","highlight_start":1,"highlight_end":66},{"text":"                    ));","highlight_start":1,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":86184,"byte_end":86352,"line_start":2260,"line_end":2263,"column_start":21,"column_end":23,"is_primary":true,"text":[{"text":"                    return Err(AppError(","highlight_start":21,"highlight_end":41},{"text":"                        StatusCode::INTERNAL_SERVER_ERROR,","highlight_start":1,"highlight_end":59},{"text":"                        anyhow!(\"Failed to generate upload URL\"),","highlight_start":1,"highlight_end":66},{"text":"                    ));","highlight_start":1,"highlight_end":23}],"label":null,"suggested_replacement":"Err(AppError(\n                        StatusCode::INTERNAL_SERVER_ERROR,\n                        anyhow!(\"Failed to generate upload URL\"),\n                    ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":86352,"byte_end":86353,"line_start":2263,"line_end":2263,"column_start":23,"column_end":24,"is_primary":true,"text":[{"text":"                    ));","highlight_start":23,"highlight_end":24}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2260:21\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2260\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m                     return Err(AppError(\n\u001b[1m\u001b[94m2261\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                         StatusCode::INTERNAL_SERVER_ERROR,\n\u001b[1m\u001b[94m2262\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                         anyhow!(\"Failed to generate upload URL\"),\n\u001b[1m\u001b[94m2263\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                     ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|______________________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2260\u001b[0m \u001b[92m~ \u001b[0m                    \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2261\u001b[0m \u001b[92m+                         StatusCode::INTERNAL_SERVER_ERROR,\u001b[0m\n\u001b[1m\u001b[94m2262\u001b[0m \u001b[92m+                         anyhow!(\"Failed to generate upload URL\"),\u001b[0m\n\u001b[1m\u001b[94m2263\u001b[0m \u001b[92m~                     ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":86409,"byte_end":86551,"line_start":2266,"line_end":2269,"column_start":17,"column_end":19,"is_primary":true,"text":[{"text":"                return Err(AppError(","highlight_start":17,"highlight_end":37},{"text":"                    StatusCode::BAD_REQUEST,","highlight_start":1,"highlight_end":45},{"text":"                    anyhow!(\"Token is not a file token\"),","highlight_start":1,"highlight_end":58},{"text":"                ));","highlight_start":1,"highlight_end":19}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":86409,"byte_end":86551,"line_start":2266,"line_end":2269,"column_start":17,"column_end":19,"is_primary":true,"text":[{"text":"                return Err(AppError(","highlight_start":17,"highlight_end":37},{"text":"                    StatusCode::BAD_REQUEST,","highlight_start":1,"highlight_end":45},{"text":"                    anyhow!(\"Token is not a file token\"),","highlight_start":1,"highlight_end":58},{"text":"                ));","highlight_start":1,"highlight_end":19}],"label":null,"suggested_replacement":"Err(AppError(\n                    StatusCode::BAD_REQUEST,\n                    anyhow!(\"Token is not a file token\"),\n                ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":86551,"byte_end":86552,"line_start":2269,"line_end":2269,"column_start":19,"column_end":20,"is_primary":true,"text":[{"text":"                ));","highlight_start":19,"highlight_end":20}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2266:17\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2266\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m                 return Err(AppError(\n\u001b[1m\u001b[94m2267\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                     StatusCode::BAD_REQUEST,\n\u001b[1m\u001b[94m2268\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                     anyhow!(\"Token is not a file token\"),\n\u001b[1m\u001b[94m2269\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|__________________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2266\u001b[0m \u001b[92m~ \u001b[0m                \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2267\u001b[0m \u001b[92m+                     StatusCode::BAD_REQUEST,\u001b[0m\n\u001b[1m\u001b[94m2268\u001b[0m \u001b[92m+                     anyhow!(\"Token is not a file token\"),\u001b[0m\n\u001b[1m\u001b[94m2269\u001b[0m \u001b[92m~                 ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":86596,"byte_end":86719,"line_start":2272,"line_end":2275,"column_start":13,"column_end":15,"is_primary":true,"text":[{"text":"            return Err(AppError(","highlight_start":13,"highlight_end":33},{"text":"                StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":42},{"text":"                anyhow!(\"No token provided\"),","highlight_start":1,"highlight_end":46},{"text":"            ));","highlight_start":1,"highlight_end":15}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":86596,"byte_end":86719,"line_start":2272,"line_end":2275,"column_start":13,"column_end":15,"is_primary":true,"text":[{"text":"            return Err(AppError(","highlight_start":13,"highlight_end":33},{"text":"                StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":42},{"text":"                anyhow!(\"No token provided\"),","highlight_start":1,"highlight_end":46},{"text":"            ));","highlight_start":1,"highlight_end":15}],"label":null,"suggested_replacement":"Err(AppError(\n                StatusCode::UNAUTHORIZED,\n                anyhow!(\"No token provided\"),\n            ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":86719,"byte_end":86720,"line_start":2275,"line_end":2275,"column_start":15,"column_end":16,"is_primary":true,"text":[{"text":"            ));","highlight_start":15,"highlight_end":16}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2272:13\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2272\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m             return Err(AppError(\n\u001b[1m\u001b[94m2273\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 StatusCode::UNAUTHORIZED,\n\u001b[1m\u001b[94m2274\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 anyhow!(\"No token provided\"),\n\u001b[1m\u001b[94m2275\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|______________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2272\u001b[0m \u001b[92m~ \u001b[0m            \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2273\u001b[0m \u001b[92m+                 StatusCode::UNAUTHORIZED,\u001b[0m\n\u001b[1m\u001b[94m2274\u001b[0m \u001b[92m+                 anyhow!(\"No token provided\"),\u001b[0m\n\u001b[1m\u001b[94m2275\u001b[0m \u001b[92m~             ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":86801,"byte_end":86941,"line_start":2279,"line_end":2282,"column_start":9,"column_end":11,"is_primary":true,"text":[{"text":"        return Err(AppError(","highlight_start":9,"highlight_end":29},{"text":"            StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":38},{"text":"            anyhow!(\"Authentication is required for file operations\"),","highlight_start":1,"highlight_end":71},{"text":"        ));","highlight_start":1,"highlight_end":11}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":86801,"byte_end":86941,"line_start":2279,"line_end":2282,"column_start":9,"column_end":11,"is_primary":true,"text":[{"text":"        return Err(AppError(","highlight_start":9,"highlight_end":29},{"text":"            StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":38},{"text":"            anyhow!(\"Authentication is required for file operations\"),","highlight_start":1,"highlight_end":71},{"text":"        ));","highlight_start":1,"highlight_end":11}],"label":null,"suggested_replacement":"Err(AppError(\n            StatusCode::UNAUTHORIZED,\n            anyhow!(\"Authentication is required for file operations\"),\n        ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":86941,"byte_end":86942,"line_start":2282,"line_end":2282,"column_start":11,"column_end":12,"is_primary":true,"text":[{"text":"        ));","highlight_start":11,"highlight_end":12}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2279:9\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2279\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m         return Err(AppError(\n\u001b[1m\u001b[94m2280\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             StatusCode::UNAUTHORIZED,\n\u001b[1m\u001b[94m2281\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             anyhow!(\"Authentication is required for file operations\"),\n\u001b[1m\u001b[94m2282\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|__________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2279\u001b[0m \u001b[92m~ \u001b[0m        \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2280\u001b[0m \u001b[92m+             StatusCode::UNAUTHORIZED,\u001b[0m\n\u001b[1m\u001b[94m2281\u001b[0m \u001b[92m+             anyhow!(\"Authentication is required for file operations\"),\u001b[0m\n\u001b[1m\u001b[94m2282\u001b[0m \u001b[92m~         ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":90153,"byte_end":90210,"line_start":2355,"line_end":2355,"column_start":21,"column_end":78,"is_primary":true,"text":[{"text":"                    return Ok(Json(FileDownloadUrlResponse { download_url }));","highlight_start":21,"highlight_end":78}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":90153,"byte_end":90210,"line_start":2355,"line_end":2355,"column_start":21,"column_end":78,"is_primary":true,"text":[{"text":"                    return Ok(Json(FileDownloadUrlResponse { download_url }));","highlight_start":21,"highlight_end":78}],"label":null,"suggested_replacement":"Ok(Json(FileDownloadUrlResponse { download_url }))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":90210,"byte_end":90211,"line_start":2355,"line_end":2355,"column_start":78,"column_end":79,"is_primary":true,"text":[{"text":"                    return Ok(Json(FileDownloadUrlResponse { download_url }));","highlight_start":78,"highlight_end":79}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2355:21\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2355\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                     return Ok(Json(FileDownloadUrlResponse { download_url }));\n     \u001b[1m\u001b[94m|\u001b[0m                     \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2355\u001b[0m \u001b[91m- \u001b[0m                    \u001b[91mreturn Ok(Json(FileDownloadUrlResponse { download_url }));\u001b[0m\n\u001b[1m\u001b[94m2355\u001b[0m \u001b[92m+ \u001b[0m                    \u001b[92mOk(Json(FileDownloadUrlResponse { download_url }))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":92760,"byte_end":92817,"line_start":2402,"line_end":2402,"column_start":25,"column_end":82,"is_primary":true,"text":[{"text":"                        return Ok(Json(FileDownloadUrlResponse { download_url }));","highlight_start":25,"highlight_end":82}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":92760,"byte_end":92817,"line_start":2402,"line_end":2402,"column_start":25,"column_end":82,"is_primary":true,"text":[{"text":"                        return Ok(Json(FileDownloadUrlResponse { download_url }));","highlight_start":25,"highlight_end":82}],"label":null,"suggested_replacement":"Ok(Json(FileDownloadUrlResponse { download_url }))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":92817,"byte_end":92818,"line_start":2402,"line_end":2402,"column_start":82,"column_end":83,"is_primary":true,"text":[{"text":"                        return Ok(Json(FileDownloadUrlResponse { download_url }));","highlight_start":82,"highlight_end":83}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2402:25\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2402\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                         return Ok(Json(FileDownloadUrlResponse { download_url }));\n     \u001b[1m\u001b[94m|\u001b[0m                         \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2402\u001b[0m \u001b[91m- \u001b[0m                        \u001b[91mreturn Ok(Json(FileDownloadUrlResponse { download_url }));\u001b[0m\n\u001b[1m\u001b[94m2402\u001b[0m \u001b[92m+ \u001b[0m                        \u001b[92mOk(Json(FileDownloadUrlResponse { download_url }))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":92872,"byte_end":93066,"line_start":2404,"line_end":2407,"column_start":25,"column_end":27,"is_primary":true,"text":[{"text":"                        return Err(AppError(","highlight_start":25,"highlight_end":45},{"text":"                            StatusCode::BAD_REQUEST,","highlight_start":1,"highlight_end":53},{"text":"                            anyhow!(\"Hash query parameter required when using server token\"),","highlight_start":1,"highlight_end":94},{"text":"                        ));","highlight_start":1,"highlight_end":27}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":92872,"byte_end":93066,"line_start":2404,"line_end":2407,"column_start":25,"column_end":27,"is_primary":true,"text":[{"text":"                        return Err(AppError(","highlight_start":25,"highlight_end":45},{"text":"                            StatusCode::BAD_REQUEST,","highlight_start":1,"highlight_end":53},{"text":"                            anyhow!(\"Hash query parameter required when using server token\"),","highlight_start":1,"highlight_end":94},{"text":"                        ));","highlight_start":1,"highlight_end":27}],"label":null,"suggested_replacement":"Err(AppError(\n                            StatusCode::BAD_REQUEST,\n                            anyhow!(\"Hash query parameter required when using server token\"),\n                        ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":93066,"byte_end":93067,"line_start":2407,"line_end":2407,"column_start":27,"column_end":28,"is_primary":true,"text":[{"text":"                        ));","highlight_start":27,"highlight_end":28}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2404:25\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2404\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m                         return Err(AppError(\n\u001b[1m\u001b[94m2405\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                             StatusCode::BAD_REQUEST,\n\u001b[1m\u001b[94m2406\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                             anyhow!(\"Hash query parameter required when using server token\"),\n\u001b[1m\u001b[94m2407\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                         ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|__________________________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2404\u001b[0m \u001b[92m~ \u001b[0m                        \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2405\u001b[0m \u001b[92m+                             StatusCode::BAD_REQUEST,\u001b[0m\n\u001b[1m\u001b[94m2406\u001b[0m \u001b[92m+                             anyhow!(\"Hash query parameter required when using server token\"),\u001b[0m\n\u001b[1m\u001b[94m2407\u001b[0m \u001b[92m~                         ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":93168,"byte_end":93347,"line_start":2411,"line_end":2414,"column_start":21,"column_end":23,"is_primary":true,"text":[{"text":"                    return Err(AppError(","highlight_start":21,"highlight_end":41},{"text":"                        StatusCode::BAD_REQUEST,","highlight_start":1,"highlight_end":49},{"text":"                        anyhow!(\"Document tokens cannot be used for file operations\"),","highlight_start":1,"highlight_end":87},{"text":"                    ));","highlight_start":1,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":93168,"byte_end":93347,"line_start":2411,"line_end":2414,"column_start":21,"column_end":23,"is_primary":true,"text":[{"text":"                    return Err(AppError(","highlight_start":21,"highlight_end":41},{"text":"                        StatusCode::BAD_REQUEST,","highlight_start":1,"highlight_end":49},{"text":"                        anyhow!(\"Document tokens cannot be used for file operations\"),","highlight_start":1,"highlight_end":87},{"text":"                    ));","highlight_start":1,"highlight_end":23}],"label":null,"suggested_replacement":"Err(AppError(\n                        StatusCode::BAD_REQUEST,\n                        anyhow!(\"Document tokens cannot be used for file operations\"),\n                    ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":93347,"byte_end":93348,"line_start":2414,"line_end":2414,"column_start":23,"column_end":24,"is_primary":true,"text":[{"text":"                    ));","highlight_start":23,"highlight_end":24}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2411:21\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2411\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m                     return Err(AppError(\n\u001b[1m\u001b[94m2412\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                         StatusCode::BAD_REQUEST,\n\u001b[1m\u001b[94m2413\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                         anyhow!(\"Document tokens cannot be used for file operations\"),\n\u001b[1m\u001b[94m2414\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                     ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|______________________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2411\u001b[0m \u001b[92m~ \u001b[0m                    \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2412\u001b[0m \u001b[92m+                         StatusCode::BAD_REQUEST,\u001b[0m\n\u001b[1m\u001b[94m2413\u001b[0m \u001b[92m+                         anyhow!(\"Document tokens cannot be used for file operations\"),\u001b[0m\n\u001b[1m\u001b[94m2414\u001b[0m \u001b[92m~                     ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":96729,"byte_end":96786,"line_start":2480,"line_end":2480,"column_start":25,"column_end":82,"is_primary":true,"text":[{"text":"                        return Ok(Json(FileDownloadUrlResponse { download_url }));","highlight_start":25,"highlight_end":82}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":96729,"byte_end":96786,"line_start":2480,"line_end":2480,"column_start":25,"column_end":82,"is_primary":true,"text":[{"text":"                        return Ok(Json(FileDownloadUrlResponse { download_url }));","highlight_start":25,"highlight_end":82}],"label":null,"suggested_replacement":"Ok(Json(FileDownloadUrlResponse { download_url }))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":96786,"byte_end":96787,"line_start":2480,"line_end":2480,"column_start":82,"column_end":83,"is_primary":true,"text":[{"text":"                        return Ok(Json(FileDownloadUrlResponse { download_url }));","highlight_start":82,"highlight_end":83}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2480:25\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2480\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                         return Ok(Json(FileDownloadUrlResponse { download_url }));\n     \u001b[1m\u001b[94m|\u001b[0m                         \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2480\u001b[0m \u001b[91m- \u001b[0m                        \u001b[91mreturn Ok(Json(FileDownloadUrlResponse { download_url }));\u001b[0m\n\u001b[1m\u001b[94m2480\u001b[0m \u001b[92m+ \u001b[0m                        \u001b[92mOk(Json(FileDownloadUrlResponse { download_url }))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":96841,"byte_end":97035,"line_start":2482,"line_end":2485,"column_start":25,"column_end":27,"is_primary":true,"text":[{"text":"                        return Err(AppError(","highlight_start":25,"highlight_end":45},{"text":"                            StatusCode::BAD_REQUEST,","highlight_start":1,"highlight_end":53},{"text":"                            anyhow!(\"Hash query parameter required when using prefix token\"),","highlight_start":1,"highlight_end":94},{"text":"                        ));","highlight_start":1,"highlight_end":27}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":96841,"byte_end":97035,"line_start":2482,"line_end":2485,"column_start":25,"column_end":27,"is_primary":true,"text":[{"text":"                        return Err(AppError(","highlight_start":25,"highlight_end":45},{"text":"                            StatusCode::BAD_REQUEST,","highlight_start":1,"highlight_end":53},{"text":"                            anyhow!(\"Hash query parameter required when using prefix token\"),","highlight_start":1,"highlight_end":94},{"text":"                        ));","highlight_start":1,"highlight_end":27}],"label":null,"suggested_replacement":"Err(AppError(\n                            StatusCode::BAD_REQUEST,\n                            anyhow!(\"Hash query parameter required when using prefix token\"),\n                        ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":97035,"byte_end":97036,"line_start":2485,"line_end":2485,"column_start":27,"column_end":28,"is_primary":true,"text":[{"text":"                        ));","highlight_start":27,"highlight_end":28}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2482:25\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2482\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m                         return Err(AppError(\n\u001b[1m\u001b[94m2483\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                             StatusCode::BAD_REQUEST,\n\u001b[1m\u001b[94m2484\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                             anyhow!(\"Hash query parameter required when using prefix token\"),\n\u001b[1m\u001b[94m2485\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                         ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|__________________________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2482\u001b[0m \u001b[92m~ \u001b[0m                        \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2483\u001b[0m \u001b[92m+                             StatusCode::BAD_REQUEST,\u001b[0m\n\u001b[1m\u001b[94m2484\u001b[0m \u001b[92m+                             anyhow!(\"Hash query parameter required when using prefix token\"),\u001b[0m\n\u001b[1m\u001b[94m2485\u001b[0m \u001b[92m~                         ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":97120,"byte_end":97243,"line_start":2490,"line_end":2493,"column_start":13,"column_end":15,"is_primary":true,"text":[{"text":"            return Err(AppError(","highlight_start":13,"highlight_end":33},{"text":"                StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":42},{"text":"                anyhow!(\"No token provided\"),","highlight_start":1,"highlight_end":46},{"text":"            ));","highlight_start":1,"highlight_end":15}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":97120,"byte_end":97243,"line_start":2490,"line_end":2493,"column_start":13,"column_end":15,"is_primary":true,"text":[{"text":"            return Err(AppError(","highlight_start":13,"highlight_end":33},{"text":"                StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":42},{"text":"                anyhow!(\"No token provided\"),","highlight_start":1,"highlight_end":46},{"text":"            ));","highlight_start":1,"highlight_end":15}],"label":null,"suggested_replacement":"Err(AppError(\n                StatusCode::UNAUTHORIZED,\n                anyhow!(\"No token provided\"),\n            ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":97243,"byte_end":97244,"line_start":2493,"line_end":2493,"column_start":15,"column_end":16,"is_primary":true,"text":[{"text":"            ));","highlight_start":15,"highlight_end":16}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2490:13\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2490\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m             return Err(AppError(\n\u001b[1m\u001b[94m2491\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 StatusCode::UNAUTHORIZED,\n\u001b[1m\u001b[94m2492\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 anyhow!(\"No token provided\"),\n\u001b[1m\u001b[94m2493\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|______________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2490\u001b[0m \u001b[92m~ \u001b[0m            \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2491\u001b[0m \u001b[92m+                 StatusCode::UNAUTHORIZED,\u001b[0m\n\u001b[1m\u001b[94m2492\u001b[0m \u001b[92m+                 anyhow!(\"No token provided\"),\u001b[0m\n\u001b[1m\u001b[94m2493\u001b[0m \u001b[92m~             ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":97306,"byte_end":97446,"line_start":2497,"line_end":2500,"column_start":9,"column_end":11,"is_primary":true,"text":[{"text":"        return Err(AppError(","highlight_start":9,"highlight_end":29},{"text":"            StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":38},{"text":"            anyhow!(\"Authentication is required for file operations\"),","highlight_start":1,"highlight_end":71},{"text":"        ));","highlight_start":1,"highlight_end":11}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":97306,"byte_end":97446,"line_start":2497,"line_end":2500,"column_start":9,"column_end":11,"is_primary":true,"text":[{"text":"        return Err(AppError(","highlight_start":9,"highlight_end":29},{"text":"            StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":38},{"text":"            anyhow!(\"Authentication is required for file operations\"),","highlight_start":1,"highlight_end":71},{"text":"        ));","highlight_start":1,"highlight_end":11}],"label":null,"suggested_replacement":"Err(AppError(\n            StatusCode::UNAUTHORIZED,\n            anyhow!(\"Authentication is required for file operations\"),\n        ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":97446,"byte_end":97447,"line_start":2500,"line_end":2500,"column_start":11,"column_end":12,"is_primary":true,"text":[{"text":"        ));","highlight_start":11,"highlight_end":12}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2497:9\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2497\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m         return Err(AppError(\n\u001b[1m\u001b[94m2498\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             StatusCode::UNAUTHORIZED,\n\u001b[1m\u001b[94m2499\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             anyhow!(\"Authentication is required for file operations\"),\n\u001b[1m\u001b[94m2500\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|__________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2497\u001b[0m \u001b[92m~ \u001b[0m        \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2498\u001b[0m \u001b[92m+             StatusCode::UNAUTHORIZED,\u001b[0m\n\u001b[1m\u001b[94m2499\u001b[0m \u001b[92m+             anyhow!(\"Authentication is required for file operations\"),\u001b[0m\n\u001b[1m\u001b[94m2500\u001b[0m \u001b[92m~         ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":101528,"byte_end":101561,"line_start":2611,"line_end":2611,"column_start":13,"column_end":46,"is_primary":true,"text":[{"text":"            return Ok(StatusCode::NO_CONTENT);","highlight_start":13,"highlight_end":46}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":101528,"byte_end":101561,"line_start":2611,"line_end":2611,"column_start":13,"column_end":46,"is_primary":true,"text":[{"text":"            return Ok(StatusCode::NO_CONTENT);","highlight_start":13,"highlight_end":46}],"label":null,"suggested_replacement":"Ok(StatusCode::NO_CONTENT)","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":101561,"byte_end":101562,"line_start":2611,"line_end":2611,"column_start":46,"column_end":47,"is_primary":true,"text":[{"text":"            return Ok(StatusCode::NO_CONTENT);","highlight_start":46,"highlight_end":47}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2611:13\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2611\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             return Ok(StatusCode::NO_CONTENT);\n     \u001b[1m\u001b[94m|\u001b[0m             \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2611\u001b[0m \u001b[91m- \u001b[0m            \u001b[91mreturn Ok(StatusCode::NO_CONTENT);\u001b[0m\n\u001b[1m\u001b[94m2611\u001b[0m \u001b[92m+ \u001b[0m            \u001b[92mOk(StatusCode::NO_CONTENT)\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":101592,"byte_end":101715,"line_start":2613,"line_end":2616,"column_start":13,"column_end":15,"is_primary":true,"text":[{"text":"            return Err(AppError(","highlight_start":13,"highlight_end":33},{"text":"                StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":42},{"text":"                anyhow!(\"No token provided\"),","highlight_start":1,"highlight_end":46},{"text":"            ));","highlight_start":1,"highlight_end":15}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":101592,"byte_end":101715,"line_start":2613,"line_end":2616,"column_start":13,"column_end":15,"is_primary":true,"text":[{"text":"            return Err(AppError(","highlight_start":13,"highlight_end":33},{"text":"                StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":42},{"text":"                anyhow!(\"No token provided\"),","highlight_start":1,"highlight_end":46},{"text":"            ));","highlight_start":1,"highlight_end":15}],"label":null,"suggested_replacement":"Err(AppError(\n                StatusCode::UNAUTHORIZED,\n                anyhow!(\"No token provided\"),\n            ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":101715,"byte_end":101716,"line_start":2616,"line_end":2616,"column_start":15,"column_end":16,"is_primary":true,"text":[{"text":"            ));","highlight_start":15,"highlight_end":16}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2613:13\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2613\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m             return Err(AppError(\n\u001b[1m\u001b[94m2614\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 StatusCode::UNAUTHORIZED,\n\u001b[1m\u001b[94m2615\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 anyhow!(\"No token provided\"),\n\u001b[1m\u001b[94m2616\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|______________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2613\u001b[0m \u001b[92m~ \u001b[0m            \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2614\u001b[0m \u001b[92m+                 StatusCode::UNAUTHORIZED,\u001b[0m\n\u001b[1m\u001b[94m2615\u001b[0m \u001b[92m+                 anyhow!(\"No token provided\"),\u001b[0m\n\u001b[1m\u001b[94m2616\u001b[0m \u001b[92m~             ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":101778,"byte_end":101918,"line_start":2620,"line_end":2623,"column_start":9,"column_end":11,"is_primary":true,"text":[{"text":"        return Err(AppError(","highlight_start":9,"highlight_end":29},{"text":"            StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":38},{"text":"            anyhow!(\"Authentication is required for file operations\"),","highlight_start":1,"highlight_end":71},{"text":"        ));","highlight_start":1,"highlight_end":11}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":101778,"byte_end":101918,"line_start":2620,"line_end":2623,"column_start":9,"column_end":11,"is_primary":true,"text":[{"text":"        return Err(AppError(","highlight_start":9,"highlight_end":29},{"text":"            StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":38},{"text":"            anyhow!(\"Authentication is required for file operations\"),","highlight_start":1,"highlight_end":71},{"text":"        ));","highlight_start":1,"highlight_end":11}],"label":null,"suggested_replacement":"Err(AppError(\n            StatusCode::UNAUTHORIZED,\n            anyhow!(\"Authentication is required for file operations\"),\n        ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":101918,"byte_end":101919,"line_start":2623,"line_end":2623,"column_start":11,"column_end":12,"is_primary":true,"text":[{"text":"        ));","highlight_start":11,"highlight_end":12}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2620:9\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2620\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m         return Err(AppError(\n\u001b[1m\u001b[94m2621\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             StatusCode::UNAUTHORIZED,\n\u001b[1m\u001b[94m2622\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             anyhow!(\"Authentication is required for file operations\"),\n\u001b[1m\u001b[94m2623\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|__________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2620\u001b[0m \u001b[92m~ \u001b[0m        \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2621\u001b[0m \u001b[92m+             StatusCode::UNAUTHORIZED,\u001b[0m\n\u001b[1m\u001b[94m2622\u001b[0m \u001b[92m+             anyhow!(\"Authentication is required for file operations\"),\u001b[0m\n\u001b[1m\u001b[94m2623\u001b[0m \u001b[92m~         ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":104925,"byte_end":104958,"line_start":2704,"line_end":2704,"column_start":13,"column_end":46,"is_primary":true,"text":[{"text":"            return Ok(StatusCode::NO_CONTENT);","highlight_start":13,"highlight_end":46}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":104925,"byte_end":104958,"line_start":2704,"line_end":2704,"column_start":13,"column_end":46,"is_primary":true,"text":[{"text":"            return Ok(StatusCode::NO_CONTENT);","highlight_start":13,"highlight_end":46}],"label":null,"suggested_replacement":"Ok(StatusCode::NO_CONTENT)","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":104958,"byte_end":104959,"line_start":2704,"line_end":2704,"column_start":46,"column_end":47,"is_primary":true,"text":[{"text":"            return Ok(StatusCode::NO_CONTENT);","highlight_start":46,"highlight_end":47}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2704:13\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2704\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             return Ok(StatusCode::NO_CONTENT);\n     \u001b[1m\u001b[94m|\u001b[0m             \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2704\u001b[0m \u001b[91m- \u001b[0m            \u001b[91mreturn Ok(StatusCode::NO_CONTENT);\u001b[0m\n\u001b[1m\u001b[94m2704\u001b[0m \u001b[92m+ \u001b[0m            \u001b[92mOk(StatusCode::NO_CONTENT)\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":104989,"byte_end":105112,"line_start":2706,"line_end":2709,"column_start":13,"column_end":15,"is_primary":true,"text":[{"text":"            return Err(AppError(","highlight_start":13,"highlight_end":33},{"text":"                StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":42},{"text":"                anyhow!(\"No token provided\"),","highlight_start":1,"highlight_end":46},{"text":"            ));","highlight_start":1,"highlight_end":15}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":104989,"byte_end":105112,"line_start":2706,"line_end":2709,"column_start":13,"column_end":15,"is_primary":true,"text":[{"text":"            return Err(AppError(","highlight_start":13,"highlight_end":33},{"text":"                StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":42},{"text":"                anyhow!(\"No token provided\"),","highlight_start":1,"highlight_end":46},{"text":"            ));","highlight_start":1,"highlight_end":15}],"label":null,"suggested_replacement":"Err(AppError(\n                StatusCode::UNAUTHORIZED,\n                anyhow!(\"No token provided\"),\n            ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":105112,"byte_end":105113,"line_start":2709,"line_end":2709,"column_start":15,"column_end":16,"is_primary":true,"text":[{"text":"            ));","highlight_start":15,"highlight_end":16}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2706:13\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2706\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m             return Err(AppError(\n\u001b[1m\u001b[94m2707\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 StatusCode::UNAUTHORIZED,\n\u001b[1m\u001b[94m2708\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 anyhow!(\"No token provided\"),\n\u001b[1m\u001b[94m2709\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|______________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2706\u001b[0m \u001b[92m~ \u001b[0m            \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2707\u001b[0m \u001b[92m+                 StatusCode::UNAUTHORIZED,\u001b[0m\n\u001b[1m\u001b[94m2708\u001b[0m \u001b[92m+                 anyhow!(\"No token provided\"),\u001b[0m\n\u001b[1m\u001b[94m2709\u001b[0m \u001b[92m~             ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":105175,"byte_end":105315,"line_start":2713,"line_end":2716,"column_start":9,"column_end":11,"is_primary":true,"text":[{"text":"        return Err(AppError(","highlight_start":9,"highlight_end":29},{"text":"            StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":38},{"text":"            anyhow!(\"Authentication is required for file operations\"),","highlight_start":1,"highlight_end":71},{"text":"        ));","highlight_start":1,"highlight_end":11}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":105175,"byte_end":105315,"line_start":2713,"line_end":2716,"column_start":9,"column_end":11,"is_primary":true,"text":[{"text":"        return Err(AppError(","highlight_start":9,"highlight_end":29},{"text":"            StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":38},{"text":"            anyhow!(\"Authentication is required for file operations\"),","highlight_start":1,"highlight_end":71},{"text":"        ));","highlight_start":1,"highlight_end":11}],"label":null,"suggested_replacement":"Err(AppError(\n            StatusCode::UNAUTHORIZED,\n            anyhow!(\"Authentication is required for file operations\"),\n        ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":105315,"byte_end":105316,"line_start":2716,"line_end":2716,"column_start":11,"column_end":12,"is_primary":true,"text":[{"text":"        ));","highlight_start":11,"highlight_end":12}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2713:9\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2713\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m         return Err(AppError(\n\u001b[1m\u001b[94m2714\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             StatusCode::UNAUTHORIZED,\n\u001b[1m\u001b[94m2715\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             anyhow!(\"Authentication is required for file operations\"),\n\u001b[1m\u001b[94m2716\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|__________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2713\u001b[0m \u001b[92m~ \u001b[0m        \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2714\u001b[0m \u001b[92m+             StatusCode::UNAUTHORIZED,\u001b[0m\n\u001b[1m\u001b[94m2715\u001b[0m \u001b[92m+             anyhow!(\"Authentication is required for file operations\"),\u001b[0m\n\u001b[1m\u001b[94m2716\u001b[0m \u001b[92m~         ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"doc list item without indentation","code":{"code":"clippy::doc_lazy_continuation","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":105555,"byte_end":105555,"line_start":2727,"line_end":2727,"column_start":5,"column_end":5,"is_primary":true,"text":[{"text":"/// Get the history of all files for a document","highlight_start":5,"highlight_end":5}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"if this is supposed to be its own paragraph, add a blank line","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#doc_lazy_continuation","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::doc_lazy_continuation)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"indent this line","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":105555,"byte_end":105555,"line_start":2727,"line_end":2727,"column_start":5,"column_end":5,"is_primary":true,"text":[{"text":"/// Get the history of all files for a document","highlight_start":5,"highlight_end":5}],"label":null,"suggested_replacement":"  ","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: doc list item without indentation\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2727:5\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2727\u001b[0m \u001b[1m\u001b[94m|\u001b[0m /// Get the history of all files for a document\n     \u001b[1m\u001b[94m|\u001b[0m     \u001b[1m\u001b[33m^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: if this is supposed to be its own paragraph, add a blank line\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#doc_lazy_continuation\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::doc_lazy_continuation)]` on by default\n\u001b[1m\u001b[96mhelp\u001b[0m: indent this line\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2727\u001b[0m \u001b[1m\u001b[94m| \u001b[0m/// \u001b[92m  \u001b[0mGet the history of all files for a document\n     \u001b[1m\u001b[94m|\u001b[0m     \u001b[92m++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":112448,"byte_end":112473,"line_start":2911,"line_end":2911,"column_start":21,"column_end":46,"is_primary":true,"text":[{"text":"                    return Ok(StatusCode::OK);","highlight_start":21,"highlight_end":46}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":112448,"byte_end":112473,"line_start":2911,"line_end":2911,"column_start":21,"column_end":46,"is_primary":true,"text":[{"text":"                    return Ok(StatusCode::OK);","highlight_start":21,"highlight_end":46}],"label":null,"suggested_replacement":"Ok(StatusCode::OK)","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":112473,"byte_end":112474,"line_start":2911,"line_end":2911,"column_start":46,"column_end":47,"is_primary":true,"text":[{"text":"                    return Ok(StatusCode::OK);","highlight_start":46,"highlight_end":47}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2911:21\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2911\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                     return Ok(StatusCode::OK);\n     \u001b[1m\u001b[94m|\u001b[0m                     \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2911\u001b[0m \u001b[91m- \u001b[0m                    \u001b[91mreturn Ok(StatusCode::OK);\u001b[0m\n\u001b[1m\u001b[94m2911\u001b[0m \u001b[92m+ \u001b[0m                    \u001b[92mOk(StatusCode::OK)\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":112601,"byte_end":112671,"line_start":2914,"line_end":2914,"column_start":21,"column_end":91,"is_primary":true,"text":[{"text":"                    return Err(AppError(StatusCode::NOT_FOUND, anyhow!(\"File not found\")));","highlight_start":21,"highlight_end":91}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":112601,"byte_end":112671,"line_start":2914,"line_end":2914,"column_start":21,"column_end":91,"is_primary":true,"text":[{"text":"                    return Err(AppError(StatusCode::NOT_FOUND, anyhow!(\"File not found\")));","highlight_start":21,"highlight_end":91}],"label":null,"suggested_replacement":"Err(AppError(StatusCode::NOT_FOUND, anyhow!(\"File not found\")))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":112671,"byte_end":112672,"line_start":2914,"line_end":2914,"column_start":91,"column_end":92,"is_primary":true,"text":[{"text":"                    return Err(AppError(StatusCode::NOT_FOUND, anyhow!(\"File not found\")));","highlight_start":91,"highlight_end":92}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2914:21\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2914\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                     return Err(AppError(StatusCode::NOT_FOUND, anyhow!(\"File not found\")));\n     \u001b[1m\u001b[94m|\u001b[0m                     \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2914\u001b[0m \u001b[91m- \u001b[0m                    \u001b[91mreturn Err(AppError(StatusCode::NOT_FOUND, anyhow!(\"File not found\")));\u001b[0m\n\u001b[1m\u001b[94m2914\u001b[0m \u001b[92m+ \u001b[0m                    \u001b[92mErr(AppError(StatusCode::NOT_FOUND, anyhow!(\"File not found\")))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":112728,"byte_end":112870,"line_start":2917,"line_end":2920,"column_start":17,"column_end":19,"is_primary":true,"text":[{"text":"                return Err(AppError(","highlight_start":17,"highlight_end":37},{"text":"                    StatusCode::BAD_REQUEST,","highlight_start":1,"highlight_end":45},{"text":"                    anyhow!(\"Token is not a file token\"),","highlight_start":1,"highlight_end":58},{"text":"                ));","highlight_start":1,"highlight_end":19}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":112728,"byte_end":112870,"line_start":2917,"line_end":2920,"column_start":17,"column_end":19,"is_primary":true,"text":[{"text":"                return Err(AppError(","highlight_start":17,"highlight_end":37},{"text":"                    StatusCode::BAD_REQUEST,","highlight_start":1,"highlight_end":45},{"text":"                    anyhow!(\"Token is not a file token\"),","highlight_start":1,"highlight_end":58},{"text":"                ));","highlight_start":1,"highlight_end":19}],"label":null,"suggested_replacement":"Err(AppError(\n                    StatusCode::BAD_REQUEST,\n                    anyhow!(\"Token is not a file token\"),\n                ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":112870,"byte_end":112871,"line_start":2920,"line_end":2920,"column_start":19,"column_end":20,"is_primary":true,"text":[{"text":"                ));","highlight_start":19,"highlight_end":20}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2917:17\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2917\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m                 return Err(AppError(\n\u001b[1m\u001b[94m2918\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                     StatusCode::BAD_REQUEST,\n\u001b[1m\u001b[94m2919\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                     anyhow!(\"Token is not a file token\"),\n\u001b[1m\u001b[94m2920\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|__________________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2917\u001b[0m \u001b[92m~ \u001b[0m                \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2918\u001b[0m \u001b[92m+                     StatusCode::BAD_REQUEST,\u001b[0m\n\u001b[1m\u001b[94m2919\u001b[0m \u001b[92m+                     anyhow!(\"Token is not a file token\"),\u001b[0m\n\u001b[1m\u001b[94m2920\u001b[0m \u001b[92m~                 ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":112915,"byte_end":113038,"line_start":2923,"line_end":2926,"column_start":13,"column_end":15,"is_primary":true,"text":[{"text":"            return Err(AppError(","highlight_start":13,"highlight_end":33},{"text":"                StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":42},{"text":"                anyhow!(\"No token provided\"),","highlight_start":1,"highlight_end":46},{"text":"            ));","highlight_start":1,"highlight_end":15}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":112915,"byte_end":113038,"line_start":2923,"line_end":2926,"column_start":13,"column_end":15,"is_primary":true,"text":[{"text":"            return Err(AppError(","highlight_start":13,"highlight_end":33},{"text":"                StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":42},{"text":"                anyhow!(\"No token provided\"),","highlight_start":1,"highlight_end":46},{"text":"            ));","highlight_start":1,"highlight_end":15}],"label":null,"suggested_replacement":"Err(AppError(\n                StatusCode::UNAUTHORIZED,\n                anyhow!(\"No token provided\"),\n            ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":113038,"byte_end":113039,"line_start":2926,"line_end":2926,"column_start":15,"column_end":16,"is_primary":true,"text":[{"text":"            ));","highlight_start":15,"highlight_end":16}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2923:13\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2923\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m             return Err(AppError(\n\u001b[1m\u001b[94m2924\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 StatusCode::UNAUTHORIZED,\n\u001b[1m\u001b[94m2925\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 anyhow!(\"No token provided\"),\n\u001b[1m\u001b[94m2926\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|______________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2923\u001b[0m \u001b[92m~ \u001b[0m            \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2924\u001b[0m \u001b[92m+                 StatusCode::UNAUTHORIZED,\u001b[0m\n\u001b[1m\u001b[94m2925\u001b[0m \u001b[92m+                 anyhow!(\"No token provided\"),\u001b[0m\n\u001b[1m\u001b[94m2926\u001b[0m \u001b[92m~             ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unneeded `return` statement","code":{"code":"clippy::needless_return","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":113101,"byte_end":113241,"line_start":2930,"line_end":2933,"column_start":9,"column_end":11,"is_primary":true,"text":[{"text":"        return Err(AppError(","highlight_start":9,"highlight_end":29},{"text":"            StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":38},{"text":"            anyhow!(\"Authentication is required for file operations\"),","highlight_start":1,"highlight_end":71},{"text":"        ));","highlight_start":1,"highlight_end":11}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"remove `return`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":113101,"byte_end":113241,"line_start":2930,"line_end":2933,"column_start":9,"column_end":11,"is_primary":true,"text":[{"text":"        return Err(AppError(","highlight_start":9,"highlight_end":29},{"text":"            StatusCode::UNAUTHORIZED,","highlight_start":1,"highlight_end":38},{"text":"            anyhow!(\"Authentication is required for file operations\"),","highlight_start":1,"highlight_end":71},{"text":"        ));","highlight_start":1,"highlight_end":11}],"label":null,"suggested_replacement":"Err(AppError(\n            StatusCode::UNAUTHORIZED,\n            anyhow!(\"Authentication is required for file operations\"),\n        ))","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/server.rs","byte_start":113241,"byte_end":113242,"line_start":2933,"line_end":2933,"column_start":11,"column_end":12,"is_primary":true,"text":[{"text":"        ));","highlight_start":11,"highlight_end":12}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unneeded `return` statement\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:2930:9\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2930\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m         return Err(AppError(\n\u001b[1m\u001b[94m2931\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             StatusCode::UNAUTHORIZED,\n\u001b[1m\u001b[94m2932\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             anyhow!(\"Authentication is required for file operations\"),\n\u001b[1m\u001b[94m2933\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         ));\n     \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|__________^\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_return\n\u001b[1m\u001b[96mhelp\u001b[0m: remove `return`\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2930\u001b[0m \u001b[92m~ \u001b[0m        \u001b[92mErr(AppError(\u001b[0m\n\u001b[1m\u001b[94m2931\u001b[0m \u001b[92m+             StatusCode::UNAUTHORIZED,\u001b[0m\n\u001b[1m\u001b[94m2932\u001b[0m \u001b[92m+             anyhow!(\"Authentication is required for file operations\"),\u001b[0m\n\u001b[1m\u001b[94m2933\u001b[0m \u001b[92m~         ))\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unnecessary `if let` since only the `Ok` variant of the iterator element is used","code":{"code":"clippy::manual_flatten","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/stores/filesystem.rs","byte_start":3026,"byte_end":4337,"line_start":102,"line_end":136,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        for entry in dir_entries {","highlight_start":9,"highlight_end":35},{"text":"            if let Ok(entry) = entry {","highlight_start":1,"highlight_end":39},{"text":"                let path = entry.path();","highlight_start":1,"highlight_end":41},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                if path.is_file() {","highlight_start":1,"highlight_end":36},{"text":"                    let metadata = match path.metadata() {","highlight_start":1,"highlight_end":59},{"text":"                        Ok(meta) => meta,","highlight_start":1,"highlight_end":42},{"text":"                        Err(_) => continue, // Skip files we can't read metadata for","highlight_start":1,"highlight_end":85},{"text":"                    };","highlight_start":1,"highlight_end":23},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                    let file_name = path","highlight_start":1,"highlight_end":41},{"text":"                        .file_name()","highlight_start":1,"highlight_end":37},{"text":"                        .and_then(|name| name.to_str())","highlight_start":1,"highlight_end":56},{"text":"                        .map(|name| name.to_string());","highlight_start":1,"highlight_end":55},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                    if let Some(key) = file_name {","highlight_start":1,"highlight_end":51},{"text":"                        let size = metadata.len();","highlight_start":1,"highlight_end":51},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                        // Get last modified time as milliseconds since epoch","highlight_start":1,"highlight_end":78},{"text":"                        let last_modified = metadata","highlight_start":1,"highlight_end":53},{"text":"                            .modified()","highlight_start":1,"highlight_end":40},{"text":"                            .ok()","highlight_start":1,"highlight_end":34},{"text":"                            .and_then(|time| time.duration_since(SystemTime::UNIX_EPOCH).ok())","highlight_start":1,"highlight_end":95},{"text":"                            .map(|duration| duration.as_millis() as u64)","highlight_start":1,"highlight_end":73},{"text":"                            .unwrap_or(0);","highlight_start":1,"highlight_end":43},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                        files.push(FileInfo {","highlight_start":1,"highlight_end":46},{"text":"                            key,","highlight_start":1,"highlight_end":33},{"text":"                            size,","highlight_start":1,"highlight_end":34},{"text":"                            last_modified,","highlight_start":1,"highlight_end":43},{"text":"                        });","highlight_start":1,"highlight_end":28},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"try `.flatten()` and remove the `if let` statement in the for loop","code":null,"level":"help","spans":[{"file_name":"relay/src/stores/filesystem.rs","byte_start":3065,"byte_end":4327,"line_start":103,"line_end":135,"column_start":13,"column_end":14,"is_primary":true,"text":[{"text":"            if let Ok(entry) = entry {","highlight_start":13,"highlight_end":39},{"text":"                let path = entry.path();","highlight_start":1,"highlight_end":41},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                if path.is_file() {","highlight_start":1,"highlight_end":36},{"text":"                    let metadata = match path.metadata() {","highlight_start":1,"highlight_end":59},{"text":"                        Ok(meta) => meta,","highlight_start":1,"highlight_end":42},{"text":"                        Err(_) => continue, // Skip files we can't read metadata for","highlight_start":1,"highlight_end":85},{"text":"                    };","highlight_start":1,"highlight_end":23},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                    let file_name = path","highlight_start":1,"highlight_end":41},{"text":"                        .file_name()","highlight_start":1,"highlight_end":37},{"text":"                        .and_then(|name| name.to_str())","highlight_start":1,"highlight_end":56},{"text":"                        .map(|name| name.to_string());","highlight_start":1,"highlight_end":55},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                    if let Some(key) = file_name {","highlight_start":1,"highlight_end":51},{"text":"                        let size = metadata.len();","highlight_start":1,"highlight_end":51},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                        // Get last modified time as milliseconds since epoch","highlight_start":1,"highlight_end":78},{"text":"                        let last_modified = metadata","highlight_start":1,"highlight_end":53},{"text":"                            .modified()","highlight_start":1,"highlight_end":40},{"text":"                            .ok()","highlight_start":1,"highlight_end":34},{"text":"                            .and_then(|time| time.duration_since(SystemTime::UNIX_EPOCH).ok())","highlight_start":1,"highlight_end":95},{"text":"                            .map(|duration| duration.as_millis() as u64)","highlight_start":1,"highlight_end":73},{"text":"                            .unwrap_or(0);","highlight_start":1,"highlight_end":43},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                        files.push(FileInfo {","highlight_start":1,"highlight_end":46},{"text":"                            key,","highlight_start":1,"highlight_end":33},{"text":"                            size,","highlight_start":1,"highlight_end":34},{"text":"                            last_modified,","highlight_start":1,"highlight_end":43},{"text":"                        });","highlight_start":1,"highlight_end":28},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#manual_flatten","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::manual_flatten)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"relay/src/stores/filesystem.rs","byte_start":3039,"byte_end":3050,"line_start":102,"line_end":102,"column_start":22,"column_end":33,"is_primary":true,"text":[{"text":"        for entry in dir_entries {","highlight_start":22,"highlight_end":33}],"label":null,"suggested_replacement":"dir_entries.flatten()","suggestion_applicability":"MaybeIncorrect","expansion":null},{"file_name":"relay/src/stores/filesystem.rs","byte_start":3030,"byte_end":3035,"line_start":102,"line_end":102,"column_start":13,"column_end":18,"is_primary":true,"text":[{"text":"        for entry in dir_entries {","highlight_start":13,"highlight_end":18}],"label":null,"suggested_replacement":"entry","suggestion_applicability":"MaybeIncorrect","expansion":null},{"file_name":"relay/src/stores/filesystem.rs","byte_start":3051,"byte_end":4337,"line_start":102,"line_end":136,"column_start":34,"column_end":10,"is_primary":true,"text":[{"text":"        for entry in dir_entries {","highlight_start":34,"highlight_end":35},{"text":"            if let Ok(entry) = entry {","highlight_start":1,"highlight_end":39},{"text":"                let path = entry.path();","highlight_start":1,"highlight_end":41},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                if path.is_file() {","highlight_start":1,"highlight_end":36},{"text":"                    let metadata = match path.metadata() {","highlight_start":1,"highlight_end":59},{"text":"                        Ok(meta) => meta,","highlight_start":1,"highlight_end":42},{"text":"                        Err(_) => continue, // Skip files we can't read metadata for","highlight_start":1,"highlight_end":85},{"text":"                    };","highlight_start":1,"highlight_end":23},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                    let file_name = path","highlight_start":1,"highlight_end":41},{"text":"                        .file_name()","highlight_start":1,"highlight_end":37},{"text":"                        .and_then(|name| name.to_str())","highlight_start":1,"highlight_end":56},{"text":"                        .map(|name| name.to_string());","highlight_start":1,"highlight_end":55},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                    if let Some(key) = file_name {","highlight_start":1,"highlight_end":51},{"text":"                        let size = metadata.len();","highlight_start":1,"highlight_end":51},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                        // Get last modified time as milliseconds since epoch","highlight_start":1,"highlight_end":78},{"text":"                        let last_modified = metadata","highlight_start":1,"highlight_end":53},{"text":"                            .modified()","highlight_start":1,"highlight_end":40},{"text":"                            .ok()","highlight_start":1,"highlight_end":34},{"text":"                            .and_then(|time| time.duration_since(SystemTime::UNIX_EPOCH).ok())","highlight_start":1,"highlight_end":95},{"text":"                            .map(|duration| duration.as_millis() as u64)","highlight_start":1,"highlight_end":73},{"text":"                            .unwrap_or(0);","highlight_start":1,"highlight_end":43},{"text":"","highlight_start":1,"highlight_end":1},{"text":"                        files.push(FileInfo {","highlight_start":1,"highlight_end":46},{"text":"                            key,","highlight_start":1,"highlight_end":33},{"text":"                            size,","highlight_start":1,"highlight_end":34},{"text":"                            last_modified,","highlight_start":1,"highlight_end":43},{"text":"                        });","highlight_start":1,"highlight_end":28},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":"{\n            let path = entry.path();\n\n            if path.is_file() {\n                let metadata = match path.metadata() {\n                    Ok(meta) => meta,\n                    Err(_) => continue, // Skip files we can't read metadata for\n                };\n\n                let file_name = path\n                    .file_name()\n                    .and_then(|name| name.to_str())\n                    .map(|name| name.to_string());\n\n                if let Some(key) = file_name {\n                    let size = metadata.len();\n\n                    // Get last modified time as milliseconds since epoch\n                    let last_modified = metadata\n                        .modified()\n                        .ok()\n                        .and_then(|time| time.duration_since(SystemTime::UNIX_EPOCH).ok())\n                        .map(|duration| duration.as_millis() as u64)\n                        .unwrap_or(0);\n\n                    files.push(FileInfo {\n                        key,\n                        size,\n                        last_modified,\n                    });\n                }\n            }\n        }","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unnecessary `if let` since only the `Ok` variant of the iterator element is used\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/stores/filesystem.rs:102:9\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m102\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m         for entry in dir_entries {\n\u001b[1m\u001b[94m103\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             if let Ok(entry) = entry {\n\u001b[1m\u001b[94m104\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 let path = entry.path();\n\u001b[1m\u001b[94m...\u001b[0m   \u001b[1m\u001b[33m|\u001b[0m\n\u001b[1m\u001b[94m136\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         }\n    \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|_________^\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: try `.flatten()` and remove the `if let` statement in the for loop\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/stores/filesystem.rs:103:13\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m103\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[96m/\u001b[0m             if let Ok(entry) = entry {\n\u001b[1m\u001b[94m104\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[96m|\u001b[0m                 let path = entry.path();\n\u001b[1m\u001b[94m105\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[96m|\u001b[0m\n\u001b[1m\u001b[94m106\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[96m|\u001b[0m                 if path.is_file() {\n\u001b[1m\u001b[94m...\u001b[0m   \u001b[1m\u001b[96m|\u001b[0m\n\u001b[1m\u001b[94m135\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[96m|\u001b[0m             }\n    \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[96m|_____________^\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#manual_flatten\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::manual_flatten)]` on by default\n\u001b[1m\u001b[96mhelp\u001b[0m: try\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m102\u001b[0m \u001b[92m~ \u001b[0m        for entry in dir_entries\u001b[92m.flatten()\u001b[0m \u001b[92m{\u001b[0m\n\u001b[1m\u001b[94m103\u001b[0m \u001b[92m+             let path = entry.path();\u001b[0m\n\u001b[1m\u001b[94m104\u001b[0m \u001b[92m+ \u001b[0m\n\u001b[1m\u001b[94m105\u001b[0m \u001b[92m+             if path.is_file() {\u001b[0m\n\u001b[1m\u001b[94m106\u001b[0m \u001b[92m+                 let metadata = match path.metadata() {\u001b[0m\n\u001b[1m\u001b[94m107\u001b[0m \u001b[92m+                     Ok(meta) => meta,\u001b[0m\n\u001b[1m\u001b[94m108\u001b[0m \u001b[92m+                     Err(_) => continue, // Skip files we can't read metadata for\u001b[0m\n\u001b[1m\u001b[94m109\u001b[0m \u001b[92m+                 };\u001b[0m\n\u001b[1m\u001b[94m110\u001b[0m \u001b[92m+ \u001b[0m\n\u001b[1m\u001b[94m111\u001b[0m \u001b[92m+                 let file_name = path\u001b[0m\n\u001b[1m\u001b[94m112\u001b[0m \u001b[92m+                     .file_name()\u001b[0m\n\u001b[1m\u001b[94m113\u001b[0m \u001b[92m+                     .and_then(|name| name.to_str())\u001b[0m\n\u001b[1m\u001b[94m114\u001b[0m \u001b[92m+                     .map(|name| name.to_string());\u001b[0m\n\u001b[1m\u001b[94m115\u001b[0m \u001b[92m+ \u001b[0m\n\u001b[1m\u001b[94m116\u001b[0m \u001b[92m+                 if let Some(key) = file_name {\u001b[0m\n\u001b[1m\u001b[94m117\u001b[0m \u001b[92m+                     let size = metadata.len();\u001b[0m\n\u001b[1m\u001b[94m118\u001b[0m \u001b[92m+ \u001b[0m\n\u001b[1m\u001b[94m119\u001b[0m \u001b[92m+                     // Get last modified time as milliseconds since epoch\u001b[0m\n\u001b[1m\u001b[94m120\u001b[0m \u001b[92m+                     let last_modified = metadata\u001b[0m\n\u001b[1m\u001b[94m121\u001b[0m \u001b[92m+                         .modified()\u001b[0m\n\u001b[1m\u001b[94m122\u001b[0m \u001b[92m+                         .ok()\u001b[0m\n\u001b[1m\u001b[94m123\u001b[0m \u001b[92m+                         .and_then(|time| time.duration_since(SystemTime::UNIX_EPOCH).ok())\u001b[0m\n\u001b[1m\u001b[94m124\u001b[0m \u001b[92m+                         .map(|duration| duration.as_millis() as u64)\u001b[0m\n\u001b[1m\u001b[94m125\u001b[0m \u001b[92m+                         .unwrap_or(0);\u001b[0m\n\u001b[1m\u001b[94m126\u001b[0m \u001b[92m+ \u001b[0m\n\u001b[1m\u001b[94m127\u001b[0m \u001b[92m+                     files.push(FileInfo {\u001b[0m\n\u001b[1m\u001b[94m128\u001b[0m \u001b[92m+                         key,\u001b[0m\n\u001b[1m\u001b[94m129\u001b[0m \u001b[92m+                         size,\u001b[0m\n\u001b[1m\u001b[94m130\u001b[0m \u001b[92m+                         last_modified,\u001b[0m\n\u001b[1m\u001b[94m131\u001b[0m \u001b[92m+                     });\u001b[0m\n\u001b[1m\u001b[94m132\u001b[0m \u001b[92m+                 }\u001b[0m\n\u001b[1m\u001b[94m133\u001b[0m \u001b[92m+             }\u001b[0m\n\u001b[1m\u001b[94m134\u001b[0m \u001b[92m+         }\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"unnecessary `if let` since only the `Ok` variant of the iterator element is used","code":{"code":"clippy::manual_flatten","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/stores/filesystem.rs","byte_start":4778,"byte_end":5216,"line_start":153,"line_end":164,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        for entry in dir_entries {","highlight_start":9,"highlight_end":35},{"text":"            if let Ok(entry) = entry {","highlight_start":1,"highlight_end":39},{"text":"                let path = entry.path();","highlight_start":1,"highlight_end":41},{"text":"                if path.is_dir() {","highlight_start":1,"highlight_end":35},{"text":"                    if path.join(\"data.ysweet\").exists() {","highlight_start":1,"highlight_end":59},{"text":"                        if let Some(name) = path.file_name().and_then(|n| n.to_str()) {","highlight_start":1,"highlight_end":88},{"text":"                            doc_ids.push(name.to_string());","highlight_start":1,"highlight_end":60},{"text":"                        }","highlight_start":1,"highlight_end":26},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"try `.flatten()` and remove the `if let` statement in the for loop","code":null,"level":"help","spans":[{"file_name":"relay/src/stores/filesystem.rs","byte_start":4817,"byte_end":5206,"line_start":154,"line_end":163,"column_start":13,"column_end":14,"is_primary":true,"text":[{"text":"            if let Ok(entry) = entry {","highlight_start":13,"highlight_end":39},{"text":"                let path = entry.path();","highlight_start":1,"highlight_end":41},{"text":"                if path.is_dir() {","highlight_start":1,"highlight_end":35},{"text":"                    if path.join(\"data.ysweet\").exists() {","highlight_start":1,"highlight_end":59},{"text":"                        if let Some(name) = path.file_name().and_then(|n| n.to_str()) {","highlight_start":1,"highlight_end":88},{"text":"                            doc_ids.push(name.to_string());","highlight_start":1,"highlight_end":60},{"text":"                        }","highlight_start":1,"highlight_end":26},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#manual_flatten","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"relay/src/stores/filesystem.rs","byte_start":4791,"byte_end":4802,"line_start":153,"line_end":153,"column_start":22,"column_end":33,"is_primary":true,"text":[{"text":"        for entry in dir_entries {","highlight_start":22,"highlight_end":33}],"label":null,"suggested_replacement":"dir_entries.flatten()","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/stores/filesystem.rs","byte_start":4782,"byte_end":4787,"line_start":153,"line_end":153,"column_start":13,"column_end":18,"is_primary":true,"text":[{"text":"        for entry in dir_entries {","highlight_start":13,"highlight_end":18}],"label":null,"suggested_replacement":"entry","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/stores/filesystem.rs","byte_start":4803,"byte_end":5216,"line_start":153,"line_end":164,"column_start":34,"column_end":10,"is_primary":true,"text":[{"text":"        for entry in dir_entries {","highlight_start":34,"highlight_end":35},{"text":"            if let Ok(entry) = entry {","highlight_start":1,"highlight_end":39},{"text":"                let path = entry.path();","highlight_start":1,"highlight_end":41},{"text":"                if path.is_dir() {","highlight_start":1,"highlight_end":35},{"text":"                    if path.join(\"data.ysweet\").exists() {","highlight_start":1,"highlight_end":59},{"text":"                        if let Some(name) = path.file_name().and_then(|n| n.to_str()) {","highlight_start":1,"highlight_end":88},{"text":"                            doc_ids.push(name.to_string());","highlight_start":1,"highlight_end":60},{"text":"                        }","highlight_start":1,"highlight_end":26},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":"{\n            let path = entry.path();\n            if path.is_dir() {\n                if path.join(\"data.ysweet\").exists() {\n                    if let Some(name) = path.file_name().and_then(|n| n.to_str()) {\n                        doc_ids.push(name.to_string());\n                    }\n                }\n            }\n        }","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unnecessary `if let` since only the `Ok` variant of the iterator element is used\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/stores/filesystem.rs:153:9\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m153\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m         for entry in dir_entries {\n\u001b[1m\u001b[94m154\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             if let Ok(entry) = entry {\n\u001b[1m\u001b[94m155\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 let path = entry.path();\n\u001b[1m\u001b[94m156\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 if path.is_dir() {\n\u001b[1m\u001b[94m...\u001b[0m   \u001b[1m\u001b[33m|\u001b[0m\n\u001b[1m\u001b[94m164\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         }\n    \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|_________^\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[96mhelp\u001b[0m: try `.flatten()` and remove the `if let` statement in the for loop\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/stores/filesystem.rs:154:13\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m154\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[96m/\u001b[0m             if let Ok(entry) = entry {\n\u001b[1m\u001b[94m155\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[96m|\u001b[0m                 let path = entry.path();\n\u001b[1m\u001b[94m156\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[96m|\u001b[0m                 if path.is_dir() {\n\u001b[1m\u001b[94m157\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[96m|\u001b[0m                     if path.join(\"data.ysweet\").exists() {\n\u001b[1m\u001b[94m...\u001b[0m   \u001b[1m\u001b[96m|\u001b[0m\n\u001b[1m\u001b[94m163\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[96m|\u001b[0m             }\n    \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[96m|_____________^\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#manual_flatten\n\u001b[1m\u001b[96mhelp\u001b[0m: try\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m153\u001b[0m \u001b[92m~ \u001b[0m        for entry in dir_entries\u001b[92m.flatten()\u001b[0m \u001b[92m{\u001b[0m\n\u001b[1m\u001b[94m154\u001b[0m \u001b[92m+             let path = entry.path();\u001b[0m\n\u001b[1m\u001b[94m155\u001b[0m \u001b[92m+             if path.is_dir() {\u001b[0m\n\u001b[1m\u001b[94m156\u001b[0m \u001b[92m+                 if path.join(\"data.ysweet\").exists() {\u001b[0m\n\u001b[1m\u001b[94m157\u001b[0m \u001b[92m+                     if let Some(name) = path.file_name().and_then(|n| n.to_str()) {\u001b[0m\n\u001b[1m\u001b[94m158\u001b[0m \u001b[92m+                         doc_ids.push(name.to_string());\u001b[0m\n\u001b[1m\u001b[94m159\u001b[0m \u001b[92m+                     }\u001b[0m\n\u001b[1m\u001b[94m160\u001b[0m \u001b[92m+                 }\u001b[0m\n\u001b[1m\u001b[94m161\u001b[0m \u001b[92m+             }\u001b[0m\n\u001b[1m\u001b[94m162\u001b[0m \u001b[92m+         }\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this `if` statement can be collapsed","code":{"code":"clippy::collapsible_if","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/stores/filesystem.rs","byte_start":4901,"byte_end":5192,"line_start":156,"line_end":162,"column_start":17,"column_end":18,"is_primary":true,"text":[{"text":"                if path.is_dir() {","highlight_start":17,"highlight_end":35},{"text":"                    if path.join(\"data.ysweet\").exists() {","highlight_start":1,"highlight_end":59},{"text":"                        if let Some(name) = path.file_name().and_then(|n| n.to_str()) {","highlight_start":1,"highlight_end":88},{"text":"                            doc_ids.push(name.to_string());","highlight_start":1,"highlight_end":60},{"text":"                        }","highlight_start":1,"highlight_end":26},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#collapsible_if","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::collapsible_if)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"collapse nested if block","code":null,"level":"help","spans":[{"file_name":"relay/src/stores/filesystem.rs","byte_start":4917,"byte_end":4919,"line_start":156,"line_end":156,"column_start":33,"column_end":35,"is_primary":true,"text":[{"text":"                if path.is_dir() {","highlight_start":33,"highlight_end":35}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/stores/filesystem.rs","byte_start":5174,"byte_end":5192,"line_start":161,"line_end":162,"column_start":22,"column_end":18,"is_primary":true,"text":[{"text":"                    }","highlight_start":22,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"relay/src/stores/filesystem.rs","byte_start":4940,"byte_end":4942,"line_start":157,"line_end":157,"column_start":21,"column_end":23,"is_primary":true,"text":[{"text":"                    if path.join(\"data.ysweet\").exists() {","highlight_start":21,"highlight_end":23}],"label":null,"suggested_replacement":"&&","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: this `if` statement can be collapsed\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/stores/filesystem.rs:156:17\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m156\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m                 if path.is_dir() {\n\u001b[1m\u001b[94m157\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                     if path.join(\"data.ysweet\").exists() {\n\u001b[1m\u001b[94m158\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                         if let Some(name) = path.file_name().and_then(|n| n.to_str()) {\n\u001b[1m\u001b[94m159\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                             doc_ids.push(name.to_string());\n\u001b[1m\u001b[94m...\u001b[0m   \u001b[1m\u001b[33m|\u001b[0m\n\u001b[1m\u001b[94m162\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m                 }\n    \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|_________________^\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#collapsible_if\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::collapsible_if)]` on by default\n\u001b[1m\u001b[96mhelp\u001b[0m: collapse nested if block\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m156\u001b[0m \u001b[92m~ \u001b[0m                if path.is_dir()\n\u001b[1m\u001b[94m157\u001b[0m \u001b[92m~ \u001b[0m                    \u001b[92m&&\u001b[0m path.join(\"data.ysweet\").exists() {\n\u001b[1m\u001b[94m158\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                         if let Some(name) = path.file_name().and_then(|n| n.to_str()) {\n\u001b[1m\u001b[94m159\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                             doc_ids.push(name.to_string());\n\u001b[1m\u001b[94m160\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                         }\n\u001b[1m\u001b[94m161\u001b[0m \u001b[92m~ \u001b[0m                    }\n    \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"the `Err`-variant returned from this function is very large","code":{"code":"clippy::result_large_err","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/mcp/router.rs","byte_start":4780,"byte_end":4807,"line_start":159,"line_end":159,"column_start":6,"column_end":33,"is_primary":true,"text":[{"text":") -> Result<(), JsonRpcResponse> {","highlight_start":6,"highlight_end":33}],"label":"the `Err`-variant is at least 152 bytes","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"try reducing the size of `mcp::jsonrpc::JsonRpcResponse`, for example by boxing large elements or replacing it with `Box<mcp::jsonrpc::JsonRpcResponse>`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#result_large_err","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::result_large_err)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: the `Err`-variant returned from this function is very large\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/mcp/router.rs:159:6\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m159\u001b[0m \u001b[1m\u001b[94m|\u001b[0m ) -> Result<(), JsonRpcResponse> {\n    \u001b[1m\u001b[94m|\u001b[0m      \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[33mthe `Err`-variant is at least 152 bytes\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: try reducing the size of `mcp::jsonrpc::JsonRpcResponse`, for example by boxing large elements or replacing it with `Box<mcp::jsonrpc::JsonRpcResponse>`\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#result_large_err\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::result_large_err)]` on by default\n\n"}
{"$message_type":"diagnostic","message":"you should consider adding a `Default` implementation for `SessionManager`","code":{"code":"clippy::new_without_default","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/mcp/session.rs","byte_start":668,"byte_end":759,"line_start":25,"line_end":29,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    pub fn new() -> Self {","highlight_start":5,"highlight_end":27},{"text":"        Self {","highlight_start":1,"highlight_end":15},{"text":"            sessions: DashMap::new(),","highlight_start":1,"highlight_end":38},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#new_without_default","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::new_without_default)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"try adding this","code":null,"level":"help","spans":[{"file_name":"relay/src/mcp/session.rs","byte_start":642,"byte_end":642,"line_start":24,"line_end":24,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"impl SessionManager {","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"impl Default for SessionManager {\n    fn default() -> Self {\n        Self::new()\n    }\n}\n\n","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: you should consider adding a `Default` implementation for `SessionManager`\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0mrelay/src/mcp/session.rs:25:5\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m25\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m/\u001b[0m     pub fn new() -> Self {\n\u001b[1m\u001b[94m26\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         Self {\n\u001b[1m\u001b[94m27\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m             sessions: DashMap::new(),\n\u001b[1m\u001b[94m28\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m         }\n\u001b[1m\u001b[94m29\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|\u001b[0m     }\n   \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[33m|_____^\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#new_without_default\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::new_without_default)]` on by default\n\u001b[1m\u001b[96mhelp\u001b[0m: try adding this\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m24\u001b[0m \u001b[92m+ impl Default for SessionManager {\u001b[0m\n\u001b[1m\u001b[94m25\u001b[0m \u001b[92m+     fn default() -> Self {\u001b[0m\n\u001b[1m\u001b[94m26\u001b[0m \u001b[92m+         Self::new()\u001b[0m\n\u001b[1m\u001b[94m27\u001b[0m \u001b[92m+     }\u001b[0m\n\u001b[1m\u001b[94m28\u001b[0m \u001b[92m+ }\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"wildcard pattern covers any other pattern as it will match anyway","code":{"code":"clippy::wildcard_in_or_patterns","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/mcp/tools/grep.rs","byte_start":3374,"byte_end":3387,"line_start":109,"line_end":109,"column_start":13,"column_end":26,"is_primary":true,"text":[{"text":"            \"content\" | _ => {","highlight_start":13,"highlight_end":26}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"consider handling `_` separately","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#wildcard_in_or_patterns","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::wildcard_in_or_patterns)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: wildcard pattern covers any other pattern as it will match anyway\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/mcp/tools/grep.rs:109:13\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m109\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             \"content\" | _ => {\n    \u001b[1m\u001b[94m|\u001b[0m             \u001b[1m\u001b[33m^^^^^^^^^^^^^\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: consider handling `_` separately\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#wildcard_in_or_patterns\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::wildcard_in_or_patterns)]` on by default\n\n"}
{"$message_type":"diagnostic","message":"the loop variable `idx` is used to index `lines`","code":{"code":"clippy::needless_range_loop","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/mcp/tools/grep.rs","byte_start":3930,"byte_end":3953,"line_start":121,"line_end":121,"column_start":32,"column_end":55,"is_primary":true,"text":[{"text":"                    for idx in range.start..=range.end {","highlight_start":32,"highlight_end":55}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_range_loop","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(clippy::needless_range_loop)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"consider using an iterator and enumerate()","code":null,"level":"help","spans":[{"file_name":"relay/src/mcp/tools/grep.rs","byte_start":3923,"byte_end":3926,"line_start":121,"line_end":121,"column_start":25,"column_end":28,"is_primary":true,"text":[{"text":"                    for idx in range.start..=range.end {","highlight_start":25,"highlight_end":28}],"label":null,"suggested_replacement":"(idx, <item>)","suggestion_applicability":"HasPlaceholders","expansion":null},{"file_name":"relay/src/mcp/tools/grep.rs","byte_start":3930,"byte_end":3953,"line_start":121,"line_end":121,"column_start":32,"column_end":55,"is_primary":true,"text":[{"text":"                    for idx in range.start..=range.end {","highlight_start":32,"highlight_end":55}],"label":null,"suggested_replacement":"lines.iter().enumerate().take(range.end + 1).skip(range.start)","suggestion_applicability":"HasPlaceholders","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: the loop variable `idx` is used to index `lines`\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mrelay/src/mcp/tools/grep.rs:121:32\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m121\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                     for idx in range.start..=range.end {\n    \u001b[1m\u001b[94m|\u001b[0m                                \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_range_loop\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(clippy::needless_range_loop)]` on by default\n\u001b[1m\u001b[96mhelp\u001b[0m: consider using an iterator and enumerate()\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m121\u001b[0m \u001b[91m- \u001b[0m                    for \u001b[91midx\u001b[0m in \u001b[91mrange.start..=range.end\u001b[0m {\n\u001b[1m\u001b[94m121\u001b[0m \u001b[92m+ \u001b[0m                    for \u001b[92m(idx, <item>)\u001b[0m in \u001b[92mlines.iter().enumerate().take(range.end + 1).skip(range.start)\u001b[0m {\n    \u001b[1m\u001b[94m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"hiding a lifetime that's elided elsewhere is confusing","code":{"code":"mismatched_lifetime_syntaxes","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":45304,"byte_end":45309,"line_start":1161,"line_end":1161,"column_start":9,"column_end":14,"is_primary":true,"text":[{"text":"        &self,","highlight_start":9,"highlight_end":14}],"label":"the lifetime is elided here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"relay/src/server.rs","byte_start":45349,"byte_end":45396,"line_start":1163,"line_end":1163,"column_start":17,"column_end":64,"is_primary":true,"text":[{"text":"    ) -> Result<MappedRef<String, DocWithSyncKv, DocWithSyncKv>> {","highlight_start":17,"highlight_end":64}],"label":"the same lifetime is hidden here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"the same lifetime is referred to in inconsistent ways, making the signature confusing","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`#[warn(mismatched_lifetime_syntaxes)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"use `'_` for type paths","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":45359,"byte_end":45359,"line_start":1163,"line_end":1163,"column_start":27,"column_end":27,"is_primary":true,"text":[{"text":"    ) -> Result<MappedRef<String, DocWithSyncKv, DocWithSyncKv>> {","highlight_start":27,"highlight_end":27}],"label":null,"suggested_replacement":"'_, ","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null},{"message":"consistently use `'_`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":45305,"byte_end":45305,"line_start":1161,"line_end":1161,"column_start":10,"column_end":10,"is_primary":true,"text":[{"text":"        &self,","highlight_start":10,"highlight_end":10}],"label":null,"suggested_replacement":"'_ ","suggestion_applicability":"MaybeIncorrect","expansion":null},{"file_name":"relay/src/server.rs","byte_start":45359,"byte_end":45359,"line_start":1163,"line_end":1163,"column_start":27,"column_end":27,"is_primary":true,"text":[{"text":"    ) -> Result<MappedRef<String, DocWithSyncKv, DocWithSyncKv>> {","highlight_start":27,"highlight_end":27}],"label":null,"suggested_replacement":"'_, ","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: hiding a lifetime that's elided elsewhere is confusing\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:1161:9\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m1161\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         &self,\n     \u001b[1m\u001b[94m|\u001b[0m         \u001b[1m\u001b[33m^^^^^\u001b[0m \u001b[1m\u001b[33mthe lifetime is elided here\u001b[0m\n\u001b[1m\u001b[94m1162\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         doc_id: &str,\n\u001b[1m\u001b[94m1163\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     ) -> Result<MappedRef<String, DocWithSyncKv, DocWithSyncKv>> {\n     \u001b[1m\u001b[94m|\u001b[0m                 \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[33mthe same lifetime is hidden here\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: the same lifetime is referred to in inconsistent ways, making the signature confusing\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(mismatched_lifetime_syntaxes)]` on by default\n\u001b[1m\u001b[96mhelp\u001b[0m: use `'_` for type paths\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m1163\u001b[0m \u001b[1m\u001b[94m| \u001b[0m    ) -> Result<MappedRef<\u001b[92m'_, \u001b[0mString, DocWithSyncKv, DocWithSyncKv>> {\n     \u001b[1m\u001b[94m|\u001b[0m                           \u001b[92m+++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"hiding a lifetime that's elided elsewhere is confusing","code":{"code":"mismatched_lifetime_syntaxes","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":45779,"byte_end":45784,"line_start":1177,"line_end":1177,"column_start":9,"column_end":14,"is_primary":true,"text":[{"text":"        &self,","highlight_start":9,"highlight_end":14}],"label":"the lifetime is elided here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"relay/src/server.rs","byte_start":45865,"byte_end":45912,"line_start":1180,"line_end":1180,"column_start":17,"column_end":64,"is_primary":true,"text":[{"text":"    ) -> Result<MappedRef<String, DocWithSyncKv, DocWithSyncKv>> {","highlight_start":17,"highlight_end":64}],"label":"the same lifetime is hidden here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"the same lifetime is referred to in inconsistent ways, making the signature confusing","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"use `'_` for type paths","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":45875,"byte_end":45875,"line_start":1180,"line_end":1180,"column_start":27,"column_end":27,"is_primary":true,"text":[{"text":"    ) -> Result<MappedRef<String, DocWithSyncKv, DocWithSyncKv>> {","highlight_start":27,"highlight_end":27}],"label":null,"suggested_replacement":"'_, ","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null},{"message":"consistently use `'_`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":45780,"byte_end":45780,"line_start":1177,"line_end":1177,"column_start":10,"column_end":10,"is_primary":true,"text":[{"text":"        &self,","highlight_start":10,"highlight_end":10}],"label":null,"suggested_replacement":"'_ ","suggestion_applicability":"MaybeIncorrect","expansion":null},{"file_name":"relay/src/server.rs","byte_start":45875,"byte_end":45875,"line_start":1180,"line_end":1180,"column_start":27,"column_end":27,"is_primary":true,"text":[{"text":"    ) -> Result<MappedRef<String, DocWithSyncKv, DocWithSyncKv>> {","highlight_start":27,"highlight_end":27}],"label":null,"suggested_replacement":"'_, ","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: hiding a lifetime that's elided elsewhere is confusing\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:1177:9\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m1177\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         &self,\n     \u001b[1m\u001b[94m|\u001b[0m         \u001b[1m\u001b[33m^^^^^\u001b[0m \u001b[1m\u001b[33mthe lifetime is elided here\u001b[0m\n\u001b[1m\u001b[94m...\u001b[0m\n\u001b[1m\u001b[94m1180\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     ) -> Result<MappedRef<String, DocWithSyncKv, DocWithSyncKv>> {\n     \u001b[1m\u001b[94m|\u001b[0m                 \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[33mthe same lifetime is hidden here\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: the same lifetime is referred to in inconsistent ways, making the signature confusing\n\u001b[1m\u001b[96mhelp\u001b[0m: use `'_` for type paths\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m1180\u001b[0m \u001b[1m\u001b[94m| \u001b[0m    ) -> Result<MappedRef<\u001b[92m'_, \u001b[0mString, DocWithSyncKv, DocWithSyncKv>> {\n     \u001b[1m\u001b[94m|\u001b[0m                           \u001b[92m+++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"hiding a lifetime that's elided elsewhere is confusing","code":{"code":"mismatched_lifetime_syntaxes","explanation":null},"level":"warning","spans":[{"file_name":"relay/src/server.rs","byte_start":46092,"byte_end":46097,"line_start":1186,"line_end":1186,"column_start":9,"column_end":14,"is_primary":true,"text":[{"text":"        &self,","highlight_start":9,"highlight_end":14}],"label":"the lifetime is elided here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"relay/src/server.rs","byte_start":46208,"byte_end":46255,"line_start":1190,"line_end":1190,"column_start":17,"column_end":64,"is_primary":true,"text":[{"text":"    ) -> Result<MappedRef<String, DocWithSyncKv, DocWithSyncKv>> {","highlight_start":17,"highlight_end":64}],"label":"the same lifetime is hidden here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"the same lifetime is referred to in inconsistent ways, making the signature confusing","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"use `'_` for type paths","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":46218,"byte_end":46218,"line_start":1190,"line_end":1190,"column_start":27,"column_end":27,"is_primary":true,"text":[{"text":"    ) -> Result<MappedRef<String, DocWithSyncKv, DocWithSyncKv>> {","highlight_start":27,"highlight_end":27}],"label":null,"suggested_replacement":"'_, ","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null},{"message":"consistently use `'_`","code":null,"level":"help","spans":[{"file_name":"relay/src/server.rs","byte_start":46093,"byte_end":46093,"line_start":1186,"line_end":1186,"column_start":10,"column_end":10,"is_primary":true,"text":[{"text":"        &self,","highlight_start":10,"highlight_end":10}],"label":null,"suggested_replacement":"'_ ","suggestion_applicability":"MaybeIncorrect","expansion":null},{"file_name":"relay/src/server.rs","byte_start":46218,"byte_end":46218,"line_start":1190,"line_end":1190,"column_start":27,"column_end":27,"is_primary":true,"text":[{"text":"    ) -> Result<MappedRef<String, DocWithSyncKv, DocWithSyncKv>> {","highlight_start":27,"highlight_end":27}],"label":null,"suggested_replacement":"'_, ","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: hiding a lifetime that's elided elsewhere is confusing\u001b[0m\n    \u001b[1m\u001b[94m--> \u001b[0mrelay/src/server.rs:1186:9\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m1186\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         &self,\n     \u001b[1m\u001b[94m|\u001b[0m         \u001b[1m\u001b[33m^^^^^\u001b[0m \u001b[1m\u001b[33mthe lifetime is elided here\u001b[0m\n\u001b[1m\u001b[94m...\u001b[0m\n\u001b[1m\u001b[94m1190\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     ) -> Result<MappedRef<String, DocWithSyncKv, DocWithSyncKv>> {\n     \u001b[1m\u001b[94m|\u001b[0m                 \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[33mthe same lifetime is hidden here\u001b[0m\n     \u001b[1m\u001b[94m|\u001b[0m\n     \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: the same lifetime is referred to in inconsistent ways, making the signature confusing\n\u001b[1m\u001b[96mhelp\u001b[0m: use `'_` for type paths\n     \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m1190\u001b[0m \u001b[1m\u001b[94m| \u001b[0m    ) -> Result<MappedRef<\u001b[92m'_, \u001b[0mString, DocWithSyncKv, DocWithSyncKv>> {\n     \u001b[1m\u001b[94m|\u001b[0m                           \u001b[92m+++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"48 warnings emitted","code":null,"level":"warning","spans":[],"children":[],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: 48 warnings emitted\u001b[0m\n\n"}
